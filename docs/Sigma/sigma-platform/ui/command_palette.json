{
  "commands": [
    {
      "command": "Open Composer",
      "scope": "model",
      "requiresModel": true,
      "routeTemplate": "#/models/:id/composer/build",
      "hover": "Jump to Composer for the current model (Build tab).",
      "api": ["POST /build_matrix", "GET /leaderboard?model_id="]
    },
    {
      "command": "Open Composer Backtest",
      "scope": "model",
      "requiresModel": true,
      "routeTemplate": "#/models/:id/composer/backtest",
      "hover": "Open the ad-hoc Backtest tab for this model.",
      "api": ["POST /backtest"]
    },
    {
      "command": "Open Designer",
      "scope": "model",
      "requiresModel": true,
      "routeTemplate": "#/models/:id/designer",
      "hover": "Open Designer for the current model (edit indicator set/policy).",
      "api": ["GET /indicator_sets?pack_id=", "GET /validate_policy?model_id=&pack_id="]
    },
    {
      "command": "Create Model",
      "scope": "global",
      "route": "#/models/new",
      "hover": "Open the Template Picker to create a model.",
      "api": ["GET /model_templates?pack=", "POST /models"]
    },
    {
      "command": "Open Templates (Gallery)",
      "scope": "global",
      "route": "#/models/templates",
      "hover": "Browse model templates across packs.",
      "api": ["GET /model_templates?pack=", "GET /packs/{pack_id}/templates"]
    },
    {
      "command": "Open Packs",
      "scope": "global",
      "route": "#/packs",
      "hover": "Explore packs; view presets, indicator sets, templates.",
      "api": ["GET /packs"]
    },
    {
      "command": "Open Signals Leaderboard",
      "scope": "global",
      "route": "#/signals?tab=leaderboard",
      "hover": "Live period metrics; filter by pack/risk/date.",
      "api": ["GET /signals/leaderboard?pack=&risk_profile=&start=&end=&limit=&offset="]
    },
    {
      "command": "Open Signals Log",
      "scope": "global",
      "route": "#/signals?tab=log",
      "hover": "View entries/fills with slippage, status, and PnL.",
      "api": ["GET /signals?model_id=&start=&end=&status=&limit=&offset="]
    },
    {
      "command": "Open Signals Analytics",
      "scope": "global",
      "route": "#/signals?tab=analytics",
      "hover": "Equity/drawdown and heatmaps; parity/capacity (options).",
      "api": ["GET /signals/summary?model_id=&risk_profile=&start=&end"]
    },
    {
      "command": "Open Health",
      "scope": "global",
      "route": "#/health",
      "hover": "API/DB/data coverage status and diagnostics.",
      "api": ["GET /healthz"]
    },
    {
      "command": "Open Docs",
      "scope": "global",
      "route": "#/docs",
      "hover": "Open runbooks, specs, and references.",
      "api": []
    },
    {
      "command": "Open Admin: Jobs",
      "scope": "admin",
      "adminOnly": true,
      "route": "#/admin/jobs",
      "hover": "Monitor/cancel/retry sweeps and training.",
      "api": ["GET /admin/jobs", "POST /admin/jobs/{id}/retry", "POST /admin/jobs/{id}/cancel"]
    },
    {
      "command": "Open Admin: Quotas & Limits",
      "scope": "admin",
      "adminOnly": true,
      "route": "#/admin/quotas",
      "hover": "View/edit per-user quotas for sweeps and training.",
      "api": ["GET /admin/quotas?user=", "PATCH /admin/quotas", "GET /admin/quotas/usage?user="]
    },
    {
      "command": "Open Admin: Risk Profiles",
      "scope": "admin",
      "adminOnly": true,
      "route": "#/admin/risk-profiles",
      "hover": "Manage global Conservative/Balanced/Aggressive presets per pack.",
      "api": ["GET /admin/risk-profiles", "PATCH /admin/risk-profiles"]
    },
    {
      "command": "Open Admin: Templates",
      "scope": "admin",
      "adminOnly": true,
      "route": "#/admin/templates",
      "hover": "CRUD model templates; validate and publish versions.",
      "api": ["GET /admin/templates", "POST /admin/templates", "PATCH /admin/templates/{id}", "POST /admin/templates/{id}/publish"]
    },
    {
      "command": "Open Admin: Feature Flags",
      "scope": "admin",
      "adminOnly": true,
      "route": "#/admin/flags",
      "hover": "Toggle non-critical features (e.g., Assistant execute-on).",
      "api": ["GET /admin/flags", "PATCH /admin/flags"]
    },
    {
      "command": "Open Admin: Users",
      "scope": "admin",
      "adminOnly": true,
      "route": "#/admin/users",
      "hover": "Assign roles; rotate API tokens.",
      "api": ["GET /admin/users", "PATCH /admin/users/{id}", "POST /admin/users/{id}/rotate_token"]
    }
  ]
}
