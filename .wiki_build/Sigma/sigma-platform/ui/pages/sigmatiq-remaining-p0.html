<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SIGMATIQ - Remaining P0 Components (Models List: Card/Row Grid)</title>
  <style>
    :root {
      --sigmatiq-dark-teal:#1A2F2F;
      --sigmatiq-bright-teal:#00C4A7;
      --sigmatiq-golden:#FFB800;
      --color-bg:#0A1414;
      --color-surface-1:#0F1A1A;
      --color-surface-2:#111827;
      --color-surface-3:#1A2F2F;
      --color-border:#1A2F2F;
      --color-text-1:#F5F5F7;
      --color-text-2:#8FA5A5;
      --color-text-3:#6A8080;
      --status-success:#00C4A7;
      --status-warning:#FFB800;
      --status-error:#FF5757;
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:-apple-system,BlinkMacSystemFont,Inter,sans-serif;background:var(--color-bg);color:var(--color-text-1);padding:24px}
    .component-section{margin-bottom:48px;max-width:1400px;margin-left:auto;margin-right:auto}
    .section-title{color:var(--sigmatiq-bright-teal);font-size:24px;margin-bottom:24px;padding-bottom:12px;border-bottom:1px solid var(--color-border)}

    /* ===== Dashboard cards (unchanged) ===== */
    .dashboard-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}
    .dashboard-card{background:var(--color-surface-1);border:1px solid var(--color-border);border-radius:12px;padding:20px}
    .dashboard-card-title{font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--color-text-2);margin-bottom:16px}
    .recent-models-list{display:flex;flex-direction:column;gap:12px}
    .recent-model-item{display:flex;justify-content:space-between;align-items:center;padding:8px;background:var(--color-surface-2);border-radius:6px}
    .recent-model-info{display:flex;flex-direction:column;gap:4px}
    .recent-model-id{font-weight:500;color:var(--color-text-1)}
    .recent-model-meta{font-size:11px;color:var(--color-text-3)}
    .quick-actions{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .health-status{display:flex;gap:16px}
    .health-item{flex:1;display:flex;flex-direction:column;align-items:center;padding:12px;background:var(--color-surface-2);border-radius:8px}
    .health-label{font-size:11px;color:var(--color-text-3);margin-bottom:4px}
    .health-value{font-weight:600}
    .health-value.ok{color:var(--status-success)}.health-value.warn{color:var(--status-warning)}.health-value.error{color:var(--status-error)}

    /* ===== Buttons / badges (shared) ===== */
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 20px;background:var(--color-surface-2);border:1px solid var(--color-border);border-radius:8px;color:var(--color-text-1);font-weight:600;cursor:pointer;transition:.2s;font-size:14px}
    .btn:hover{transform:translateY(-1px);box-shadow:0 2px 8px rgba(0,0,0,.2)}
    .btn-primary{background:var(--sigmatiq-bright-teal);border-color:var(--sigmatiq-bright-teal);color:var(--color-bg)}
    .btn-small{padding:6px 12px;font-size:12px}
    .badge{display:inline-block;padding:2px 8px;border-radius:12px;font-size:11px;font-weight:600}
    .badge-teal{background:rgba(0,196,167,.2);color:var(--sigmatiq-bright-teal)}
    .badge-golden{background:rgba(255,184,0,.2);color:var(--sigmatiq-golden)}

    /* ===== Trust HUD / Gate badges (unchanged styles kept) ===== */
    .trust-hud{display:flex;gap:12px;margin:20px 0}
    .trust-badge{padding:8px 16px;border-radius:8px;font-size:12px;font-weight:600;display:flex;align-items:center;gap:8px;cursor:help;position:relative}
    .trust-badge.success{background:rgba(0,196,167,.2);border:1px solid var(--status-success);color:var(--status-success)}
    .trust-badge.warning{background:rgba(255,184,0,.2);border:1px solid var(--status-warning);color:var(--status-warning)}
    .trust-badge.error{background:rgba(255,87,87,.2);border:1px solid var(--status-error);color:var(--status-error)}
    .trust-tooltip{position:absolute;bottom:100%;left:50%;transform:translateX(-50%);background:var(--color-surface-1);border:1px solid var(--color-border);border-radius:8px;padding:12px;margin-bottom:8px;display:none;white-space:nowrap;z-index:1000;box-shadow:0 4px 12px rgba(0,0,0,.3)}
    .trust-badge:hover .trust-tooltip{display:block}

    .gate-badge{display:inline-flex;align-items:center;padding:4px 8px;border-radius:4px;font-size:11px;font-weight:600;cursor:help;position:relative}
    .gate-badge.pass{background:rgba(0,196,167,.2);color:var(--status-success)}
    .gate-badge.fail{background:rgba(255,87,87,.2);color:var(--status-error)}
    .gate-tooltip{position:absolute;bottom:100%;left:50%;transform:translateX(-50%);background:var(--color-surface-1);border:1px solid var(--color-border);border-radius:8px;padding:12px;margin-bottom:8px;display:none;z-index:1000;min-width:220px;box-shadow:0 4px 12px rgba(0,0,0,.3)}
    .gate-badge:hover .gate-tooltip,.gate-badge:focus .gate-tooltip{display:block}
    .gate-tooltip-title{font-weight:600;margin-bottom:8px;color:var(--status-error)}

    /* ===== MODELS: Card/Row grid controls ===== */
    .models-container{background:var(--color-surface-1);border:1px solid var(--color-border);border-radius:12px;padding:24px}
    .ml-controls{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin-bottom:12px}
    .ml-search{flex:1;min-width:220px}
    .ml-search input{width:100%;padding:8px 12px;background:var(--color-surface-2);border:1px solid var(--color-border);border-radius:8px;color:var(--color-text-1);font-size:13px;outline:none}
    .ml-search input:focus{border-color:var(--sigmatiq-bright-teal);box-shadow:0 0 0 2px rgba(0,196,167,.12)}
    .ml-select{padding:8px 12px;background:var(--color-surface-2);border:1px solid var(--color-border);border-radius:8px;color:var(--color-text-1);font-size:13px;cursor:pointer}
    .view-toggle{display:flex;gap:2px;padding:3px;background:var(--color-surface-2);border:1px solid var(--color-border);border-radius:8px}
    .view-option{padding:5px 8px;background:transparent;border:none;color:var(--color-text-2);cursor:pointer;border-radius:5px;font-size:12px}
    .view-option.active{background:var(--sigmatiq-bright-teal);color:var(--color-bg)}

    /* ===== MODELS: Grid + cards ===== */
    .ml-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:12px;align-items:stretch;margin-top:8px}
    .ml-grid.row-view{display:block}
    .ml-card{background:var(--color-surface-2);border:1px solid var(--color-border);border-radius:10px;overflow:hidden;transition:.2s}
    .ml-card:hover{transform:translateY(-2px);box-shadow:0 6px 12px rgba(0,0,0,.2);border-color:var(--sigmatiq-bright-teal)}
    .ml-head{display:flex;align-items:center;gap:10px;background:var(--color-surface-3);padding:12px;border-bottom:1px solid var(--color-border)}
    .ml-id{font-size:13px;font-weight:700;color:var(--color-text-1);font-family:Monaco,Menlo,Consolas,monospace;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .ml-pack{font-size:11px;color:var(--color-text-3)}
    .ml-head .gate-badge{margin-left:auto}
    .ml-body{padding:12px}
    .ml-stats{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:10px}
    .ml-item{display:flex;flex-direction:column}
    .ml-label{font-size:10px;color:var(--color-text-3);text-transform:uppercase;letter-spacing:.3px;margin-bottom:2px}
    .ml-value{font-size:14px;font-weight:600;color:var(--color-text-1)}
    .ml-value.positive{color:var(--status-success)}
    .ml-value.negative{color:var(--status-error)}
    .ml-sparkline{height:36px;margin:4px 0 6px;border:1px dashed var(--color-border);border-radius:6px;display:flex;align-items:center;justify-content:center}
    .ml-meta{display:flex;justify-content:space-between;padding-top:8px;border-top:1px solid var(--color-border);font-size:10px;color:var(--color-text-3)}

    /* Row reflow */
    .ml-grid.row-view .ml-card{display:flex;align-items:center;margin-bottom:8px;padding:12px;border-radius:8px}
    .ml-grid.row-view .ml-head{background:transparent;border:0;padding:0;gap:12px;flex:0 0 420px}
    .ml-grid.row-view .ml-body{flex:1;padding:0 16px}
    .ml-grid.row-view .ml-stats{display:flex;gap:20px;margin:0}
    .ml-grid.row-view .ml-item{flex-direction:row;align-items:baseline;gap:6px}
    .ml-grid.row-view .ml-sparkline,.ml-grid.row-view .ml-meta{display:none}

    /* Row header */
    .ml-row-header{display:none;padding:8px 12px;background:var(--color-surface-2);border:1px solid var(--color-border);border-radius:8px;margin:8px 0 8px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--color-text-3)}
    .ml-grid.row-view ~ .ml-row-header{display:flex;align-items:center}
    .ml-h-model{flex:0 0 420px;padding-left:4px}
    .ml-h-metrics{flex:1;display:flex;gap:20px}

    /* Pagination */
    .ml-pagination{display:flex;justify-content:space-between;align-items:center;padding:12px 0 0}
    .page-btn{padding:6px 10px;background:var(--color-surface-2);border:1px solid var(--color-border);border-radius:6px;color:var(--color-text-1);font-size:12px;cursor:pointer;min-width:32px}
    .page-btn[disabled]{opacity:.5;cursor:not-allowed}
    .page-btn.active{background:var(--sigmatiq-bright-teal);border-color:var(--sigmatiq-bright-teal);color:var(--color-bg)}

    /* ===== Misc states (unchanged) ===== */
    .state-container{padding:40px;text-align:center;background:var(--color-surface-1);border:1px solid var(--color-border);border-radius:12px;margin:20px 0}
    .loading-skeleton{background:linear-gradient(90deg,var(--color-surface-2) 25%,var(--color-surface-3) 50%,var(--color-surface-2) 75%);background-size:200% 100%;animation:loading 1.5s infinite;border-radius:4px}
    @keyframes loading{0%{background-position:200% 0}100%{background-position:-200% 0}}
    .skeleton-row{height:40px;margin-bottom:8px}
    .skeleton-text{height:16px;width:60%;margin:8px auto}

    /* ===== Docs launcher (unchanged) ===== */
    .docs-launcher{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;padding:20px;background:var(--color-surface-1);border:1px solid var(--color-border);border-radius:12px}
    .doc-link{display:flex;flex-direction:column;align-items:center;padding:20px;background:var(--color-surface-2);border:1px solid var(--color-border);border-radius:8px;text-decoration:none;color:var(--color-text-1);transition:.2s;cursor:pointer}
    .doc-link:hover{border-color:var(--sigmatiq-bright-teal);transform:translateY(-2px)}
    .doc-icon{width:32px;height:32px;margin-bottom:12px;color:var(--sigmatiq-bright-teal)}
    .doc-title{font-weight:500;margin-bottom:4px}
    .doc-description{font-size:11px;color:var(--color-text-2);text-align:center}
  </style>
</head>
<body>
  <!-- 1. DASHBOARD WITH QUICK ACTIONS -->
  <section class="component-section">
    <h2 class="section-title">1. Dashboard with Quick Actions</h2>
    <div class="dashboard-grid">
      <div class="dashboard-card">
        <h3 class="dashboard-card-title">Recent Models</h3>
        <div class="recent-models-list">
          <div class="recent-model-item"><div class="recent-model-info"><span class="recent-model-id">spy_opt_0dte_hourly</span><span class="recent-model-meta">zerosigma • Updated 2h ago</span></div><button class="btn btn-small">Open</button></div>
          <div class="recent-model-item"><div class="recent-model-info"><span class="recent-model-id">aapl_eq_swing_daily</span><span class="recent-model-meta">swingsigma • Updated 5h ago</span></div><button class="btn btn-small">Open</button></div>
          <div class="recent-model-item"><div class="recent-model-info"><span class="recent-model-id">tsla_opt_weekly</span><span class="recent-model-meta">weeklysigma • Updated 1d ago</span></div><button class="btn btn-small">Open</button></div>
        </div>
      </div>
      <div class="dashboard-card">
        <h3 class="dashboard-card-title">Last Runs</h3>
        <div class="recent-models-list">
          <div class="recent-model-item"><div class="recent-model-info"><span class="recent-model-id">Backtest Complete</span><span class="recent-model-meta">spy_opt_0dte • 11:50 AM</span></div><span class="badge badge-teal">Success</span></div>
          <div class="recent-models-list">
            <div class="recent-model-item"><div class="recent-model-info"><span class="recent-model-id">Train Running</span><span class="recent-model-meta">aapl_eq_swing • 10:30 AM</span></div><span class="badge badge-golden">Running</span></div>
          </div>
        </div>
      </div>
      <div class="dashboard-card">
        <h3 class="dashboard-card-title">Quick Actions</h3>
        <div class="quick-actions">
          <button class="btn btn-primary"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>Create Model</button>
          <button class="btn">Run Backtest</button>
          <button class="btn">Open Sweeps</button>
          <button class="btn">View Docs</button>
        </div>
      </div>
      <div class="dashboard-card">
        <h3 class="dashboard-card-title">System Health</h3>
        <div class="health-status">
          <div class="health-item"><span class="health-label">API</span><span class="health-value ok">OK</span></div>
          <div class="health-item"><span class="health-label">DB</span><span class="health-value warn">WARN</span></div>
          <div class="health-item"><span class="health-label">Data</span><span class="health-value ok">OK</span></div>
        </div>
        <button class="btn btn-small" style="width:100%;margin-top:12px">View Details →</button>
      </div>
    </div>
  </section>

  <!-- 2. MODELS LIST — CARD/ROW GRID -->
  <section class="component-section">
    <h2 class="section-title">2. Models List</h2>
    <div class="models-container">
      <!-- Controls -->
      <div class="ml-controls">
        <div class="ml-search"><input id="mlSearch" type="text" placeholder="Search model_id…"/></div>
        <select id="mlPack" class="ml-select" aria-label="Pack">
          <option value="">All Packs</option>
          <option value="zerosigma">zerosigma</option>
          <option value="swingsigma">swingsigma</option>
          <option value="weeklysigma">weeklysigma</option>
          <option value="momentumsigma">momentumsigma</option>
        </select>
        <select id="mlRisk" class="ml-select" aria-label="Risk">
          <option value="">All Risk Profiles</option>
          <option value="Conservative">Conservative</option>
          <option value="Balanced">Balanced</option>
          <option value="Aggressive">Aggressive</option>
        </select>
        <select id="mlSort" class="ml-select" aria-label="Sort">
          <option value="updated_desc">Sort: Updated</option>
          <option value="sharpe_desc">Sort: Sharpe</option>
          <option value="return_desc">Sort: Return</option>
          <option value="trades_desc">Sort: Trades</option>
          <option value="id_asc">Sort: Model ID</option>
          <option value="pack_asc">Sort: Pack</option>
        </select>
        <select id="mlPageSize" class="ml-select" aria-label="Items">
          <option>6</option><option selected>12</option><option>24</option>
        </select>
        <div class="view-toggle" role="tablist" aria-label="View">
          <button id="mlViewCards" class="view-option active" aria-selected="true">Cards</button>
          <button id="mlViewRows" class="view-option" aria-selected="false">Rows</button>
        </div>
      </div>

      <!-- Grid -->
      <div id="mlGrid" class="ml-grid">
        <!-- Card 1 -->
        <article class="ml-card"
          data-id="spy_opt_0dte_hourly"
          data-pack="zerosigma"
          data-risk="Balanced"
          data-pass="true"
          data-sharpe="2.41"
          data-return="24.5"
          data-trades="142"
          data-updated-min="120">
          <div class="ml-head">
            <div>
              <div class="ml-id">spy_opt_0dte_hourly</div>
              <div class="ml-pack">zerosigma • Jul 18 → Aug 16</div>
            </div>
            <span class="gate-badge pass">PASS
              <div class="gate-tooltip">
                <div style="color:var(--status-success);font-weight:600">All Gates Passed</div>
                <ul style="list-style:none;padding:0;margin-top:8px">
                  <li>✓ Min trades: 142 ≥ 5</li>
                  <li>✓ Max DD: 8.2% ≤ 20%</li>
                  <li>✓ ES95: 1.8x ≤ 2.0x</li>
                </ul>
              </div>
            </span>
          </div>
          <div class="ml-body">
            <div class="ml-stats">
              <div class="ml-item"><span class="ml-label">Sharpe</span><span class="ml-value">2.41</span></div>
              <div class="ml-item"><span class="ml-label">Return</span><span class="ml-value positive">+24.5%</span></div>
              <div class="ml-item"><span class="ml-label">Trades</span><span class="ml-value">142</span></div>
              <div class="ml-item"><span class="ml-label">Risk</span><span class="ml-value">Balanced</span></div>
            </div>
            <div class="ml-sparkline">
              <svg width="100%" height="28" viewBox="0 0 120 28"><polyline points="0,22 15,16 30,18 45,14 60,10 90,6 120,9" fill="none" stroke="#00C4A7" stroke-width="2"/></svg>
            </div>
            <div class="ml-meta"><span>Updated 2h ago</span><span>ID • pack • gate</span></div>
          </div>
        </article>

        <!-- Card 2 -->
        <article class="ml-card"
          data-id="aapl_eq_swing_daily"
          data-pack="swingsigma"
          data-risk="Conservative"
          data-pass="false"
          data-sharpe="1.85"
          data-return="18.2"
          data-trades="3"
          data-updated-min="45">
          <div class="ml-head">
            <div>
              <div class="ml-id">aapl_eq_swing_daily</div>
              <div class="ml-pack">swingsigma • Jul 18 → Aug 16</div>
            </div>
            <span class="gate-badge fail">FAIL
              <div class="gate-tooltip">
                <div class="gate-tooltip-title">Gate Failed</div>
                <ul style="list-style:none;padding:0">
                  <li>✗ Min trades: 3 &lt; 5</li>
                  <li>✗ Spread: 12% &gt; 10%</li>
                </ul>
              </div>
            </span>
          </div>
          <div class="ml-body">
            <div class="ml-stats">
              <div class="ml-item"><span class="ml-label">Sharpe</span><span class="ml-value">1.85</span></div>
              <div class="ml-item"><span class="ml-label">Return</span><span class="ml-value positive">+18.2%</span></div>
              <div class="ml-item"><span class="ml-label">Trades</span><span class="ml-value">3</span></div>
              <div class="ml-item"><span class="ml-label">Risk</span><span class="ml-value">Conservative</span></div>
            </div>
            <div class="ml-sparkline">
              <svg width="100%" height="28" viewBox="0 0 120 28"><polyline points="0,14 20,10 40,16 60,12 80,9 100,7 120,11" fill="none" stroke="#FFB800" stroke-width="2"/></svg>
            </div>
            <div class="ml-meta"><span>Updated 45m ago</span><span>ID • pack • gate</span></div>
          </div>
        </article>

        <!-- Card 3 -->
        <article class="ml-card"
          data-id="tsla_opt_weekly"
          data-pack="weeklysigma"
          data-risk="Aggressive"
          data-pass="false"
          data-sharpe="0.45"
          data-return="-5.3"
          data-trades="28"
          data-updated-min="1440">
          <div class="ml-head">
            <div>
              <div class="ml-id">tsla_opt_weekly</div>
              <div class="ml-pack">weeklysigma • Jul 18 → Aug 16</div>
            </div>
            <span class="gate-badge fail">FAIL
              <div class="gate-tooltip">
                <div class="gate-tooltip-title">Gate Failed</div>
                <ul style="list-style:none;padding:0"><li>✗ Max DD: 25% &gt; 20%</li></ul>
              </div>
            </span>
          </div>
          <div class="ml-body">
            <div class="ml-stats">
              <div class="ml-item"><span class="ml-label">Sharpe</span><span class="ml-value">0.45</span></div>
              <div class="ml-item"><span class="ml-label">Return</span><span class="ml-value negative">-5.3%</span></div>
              <div class="ml-item"><span class="ml-label">Trades</span><span class="ml-value">28</span></div>
              <div class="ml-item"><span class="ml-label">Risk</span><span class="ml-value">Aggressive</span></div>
            </div>
            <div class="ml-sparkline">
              <svg width="100%" height="28" viewBox="0 0 120 28"><polyline points="0,10 30,11 60,14 90,16 120,17" fill="none" stroke="#FF5757" stroke-width="2"/></svg>
            </div>
            <div class="ml-meta"><span>Updated 1d ago</span><span>ID • pack • gate</span></div>
          </div>
        </article>

        <!-- Card 4 -->
        <article class="ml-card"
          data-id="qqq_eq_momentum"
          data-pack="momentumsigma"
          data-risk="Balanced"
          data-pass="true"
          data-sharpe="1.62"
          data-return="15.8"
          data-trades="98"
          data-updated-min="240">
          <div class="ml-head">
            <div>
              <div class="ml-id">qqq_eq_momentum</div>
              <div class="ml-pack">momentumsigma • Jul 18 → Aug 16</div>
            </div>
            <span class="gate-badge pass">PASS
              <div class="gate-tooltip"><div style="color:var(--status-success);font-weight:600">All Gates Passed</div></div>
            </span>
          </div>
          <div class="ml-body">
            <div class="ml-stats">
              <div class="ml-item"><span class="ml-label">Sharpe</span><span class="ml-value">1.62</span></div>
              <div class="ml-item"><span class="ml-label">Return</span><span class="ml-value positive">+15.8%</span></div>
              <div class="ml-item"><span class="ml-label">Trades</span><span class="ml-value">98</span></div>
              <div class="ml-item"><span class="ml-label">Risk</span><span class="ml-value">Balanced</span></div>
            </div>
            <div class="ml-sparkline">
              <svg width="100%" height="28" viewBox="0 0 120 28"><polyline points="0,22 30,21 60,19 90,16 120,13" fill="none" stroke="#00C4A7" stroke-width="2"/></svg>
            </div>
            <div class="ml-meta"><span>Updated 4h ago</span><span>ID • pack • gate</span></div>
          </div>
        </article>

        <!-- Card 5 -->
        <article class="ml-card"
          data-id="nvda_opt_daily"
          data-pack="zerosigma"
          data-risk="Conservative"
          data-pass="false"
          data-sharpe="0.92"
          data-return="3.1"
          data-trades="4"
          data-updated-min="5">
          <div class="ml-head">
            <div>
              <div class="ml-id">nvda_opt_daily</div>
              <div class="ml-pack">zerosigma • Jul 18 → Aug 16</div>
            </div>
            <span class="gate-badge fail">FAIL
              <div class="gate-tooltip">
                <div class="gate-tooltip-title">Gate Failed</div>
                <ul style="list-style:none;padding:0">
                  <li>✗ Min trades: 4 &lt; 5</li>
                  <li>✗ Spread: 14% &gt; 10%</li>
                </ul>
              </div>
            </span>
          </div>
          <div class="ml-body">
            <div class="ml-stats">
              <div class="ml-item"><span class="ml-label">Sharpe</span><span class="ml-value">0.92</span></div>
              <div class="ml-item"><span class="ml-label">Return</span><span class="ml-value positive">+3.1%</span></div>
              <div class="ml-item"><span class="ml-label">Trades</span><span class="ml-value">4</span></div>
              <div class="ml-item"><span class="ml-label">Risk</span><span class="ml-value">Conservative</span></div>
            </div>
            <div class="ml-sparkline">
              <svg width="100%" height="28" viewBox="0 0 120 28"><polyline points="0,18 30,17 60,16 90,18 120,15" fill="none" stroke="#00C4A7" stroke-width="2"/></svg>
            </div>
            <div class="ml-meta"><span>Updated 5m ago</span><span>ID • pack • gate</span></div>
          </div>
        </article>

        <!-- Card 6 -->
        <article class="ml-card"
          data-id="iwm_eq_meanrev"
          data-pack="momentumsigma"
          data-risk="Balanced"
          data-pass="true"
          data-sharpe="1.12"
          data-return="6.8"
          data-trades="76"
          data-updated-min="300">
          <div class="ml-head">
            <div>
              <div class="ml-id">iwm_eq_meanrev</div>
              <div class="ml-pack">momentumsigma • Jul 18 → Aug 16</div>
            </div>
            <span class="gate-badge pass">PASS
              <div class="gate-tooltip"><div style="color:var(--status-success);font-weight:600">All Gates Passed</div></div>
            </span>
          </div>
          <div class="ml-body">
            <div class="ml-stats">
              <div class="ml-item"><span class="ml-label">Sharpe</span><span class="ml-value">1.12</span></div>
              <div class="ml-item"><span class="ml-label">Return</span><span class="ml-value positive">+6.8%</span></div>
              <div class="ml-item"><span class="ml-label">Trades</span><span class="ml-value">76</span></div>
              <div class="ml-item"><span class="ml-label">Risk</span><span class="ml-value">Balanced</span></div>
            </div>
            <div class="ml-sparkline">
              <svg width="100%" height="28" viewBox="0 0 120 28"><polyline points="0,20 30,19 60,18 90,17 120,16" fill="none" stroke="#00C4A7" stroke-width="2"/></svg>
            </div>
            <div class="ml-meta"><span>Updated 5h ago</span><span>ID • pack • gate</span></div>
          </div>
        </article>

        <!-- Card 7 -->
        <article class="ml-card"
          data-id="es_fut_intraday"
          data-pack="zerosigma"
          data-risk="Balanced"
          data-pass="false"
          data-sharpe="0.60"
          data-return="-1.2"
          data-trades="22"
          data-updated-min="180">
          <div class="ml-head">
            <div>
              <div class="ml-id">es_fut_intraday</div>
              <div class="ml-pack">zerosigma • Jul 18 → Aug 16</div>
            </div>
            <span class="gate-badge fail">FAIL
              <div class="gate-tooltip">
                <div class="gate-tooltip-title">Gate Failed</div>
                <ul style="list-style:none;padding:0"><li>✗ ES95: 2.2x &gt; 2.0x</li></ul>
              </div>
            </span>
          </div>
          <div class="ml-body">
            <div class="ml-stats">
              <div class="ml-item"><span class="ml-label">Sharpe</span><span class="ml-value">0.60</span></div>
              <div class="ml-item"><span class="ml-label">Return</span><span class="ml-value negative">-1.2%</span></div>
              <div class="ml-item"><span class="ml-label">Trades</span><span class="ml-value">22</span></div>
              <div class="ml-item"><span class="ml-label">Risk</span><span class="ml-value">Balanced</span></div>
            </div>
            <div class="ml-sparkline">
              <svg width="100%" height="28" viewBox="0 0 120 28"><polyline points="0,16 30,15 60,15 90,16 120,14" fill="none" stroke="#FF5757" stroke-width="2"/></svg>
            </div>
            <div class="ml-meta"><span>Updated 3h ago</span><span>ID • pack • gate</span></div>
          </div>
        </article>

        <!-- Card 8 -->
        <article class="ml-card"
          data-id="eurusd_fx_swing"
          data-pack="swingsigma"
          data-risk="Conservative"
          data-pass="true"
          data-sharpe="1.05"
          data-return="4.2"
          data-trades="63"
          data-updated-min="720">
          <div class="ml-head">
            <div>
              <div class="ml-id">eurusd_fx_swing</div>
              <div class="ml-pack">swingsigma • Jul 18 → Aug 16</div>
            </div>
            <span class="gate-badge pass">PASS
              <div class="gate-tooltip"><div style="color:var(--status-success);font-weight:600">All Gates Passed</div></div>
            </span>
          </div>
          <div class="ml-body">
            <div class="ml-stats">
              <div class="ml-item"><span class="ml-label">Sharpe</span><span class="ml-value">1.05</span></div>
              <div class="ml-item"><span class="ml-label">Return</span><span class="ml-value positive">+4.2%</span></div>
              <div class="ml-item"><span class="ml-label">Trades</span><span class="ml-value">63</span></div>
              <div class="ml-item"><span class="ml-label">Risk</span><span class="ml-value">Conservative</span></div>
            </div>
            <div class="ml-sparkline">
              <svg width="100%" height="28" viewBox="0 0 120 28"><polyline points="0,20 20,18 40,16 60,15 80,14 100,12 120,11" fill="none" stroke="#00C4A7" stroke-width="2"/></svg>
            </div>
            <div class="ml-meta"><span>Updated 12h ago</span><span>ID • pack • gate</span></div>
          </div>
        </article>
      </div>

      <!-- Row header -->
      <div class="ml-row-header" id="mlRowHeader">
        <div class="ml-h-model">Model • Gate</div>
        <div class="ml-h-metrics"><div>Sharpe</div><div>Return</div><div>Trades</div><div>Risk</div></div>
      </div>

      <!-- Pagination -->
      <div class="ml-pagination">
        <div id="mlPageInfo" style="font-size:13px;color:var(--color-text-2)">–</div>
        <div style="display:flex;gap:6px;align-items:center">
          <button class="page-btn" id="mlPrev">‹</button>
          <span id="mlNums" style="display:flex;gap:6px"></span>
          <button class="page-btn" id="mlNext">›</button>
        </div>
      </div>
    </div>
  </section>

  <!-- 3. TRUST HUD (unchanged demo) -->
  <section class="component-section">
    <h2 class="section-title">3. Trust HUD (Integrity/Parity/Capacity)</h2>
    <div class="trust-hud">
      <div class="trust-badge success">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
        Integrity OK
        <div class="trust-tooltip">Data integrity verified.<br>No missing values detected.</div>
      </div>
      <div class="trust-badge warning">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/></svg>
        Parity -2.1%
        <div class="trust-tooltip">Minor parity drift detected.<br>Premium vs underlying: -2.1%</div>
      </div>
      <div class="trust-badge success">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><rect x="7" y="7" width="10" height="10"/></svg>
        Capacity High
        <div class="trust-tooltip">High liquidity available.<br>OI: 5,000 | Volume: 10,000</div>
      </div>
    </div>
  </section>

  <!-- 4. RISK PROFILE SELECTOR (unchanged demo) -->
  <section class="component-section">
    <h2 class="section-title">4. Risk Profile Selector</h2>
    <div class="quick-actions">
      <button class="btn">Conservative</button>
      <button class="btn btn-primary">Balanced</button>
      <button class="btn">Aggressive</button>
    </div>
  </section>

  <!-- 5. LINEAGE CHIPS (unchanged demo) -->
  <section class="component-section">
    <h2 class="section-title">5. Lineage Chips (Clickable)</h2>
    <div style="display:flex;gap:8px;margin:16px 0">
      <span class="badge">pack @a1b2c3</span>
      <span class="badge">config @d4e5f6</span>
      <span class="badge">policy @g7h8i9</span>
      <span class="badge">matrix @j0k1l2</span>
    </div>
  </section>

  <!-- 6. LOADING/EMPTY/ERROR STATES (unchanged demo) -->
  <section class="component-section">
    <h2 class="section-title">6. Loading/Empty/Error States</h2>
    <div class="state-container">
      <h4 style="margin-bottom:16px;color:var(--color-text-2)">Loading State</h4>
      <div class="loading-skeleton skeleton-row"></div>
      <div class="loading-skeleton skeleton-row"></div>
      <div class="loading-skeleton skeleton-row"></div>
      <div class="loading-skeleton skeleton-text"></div>
    </div>
  </section>

  <!-- 7. DOCS LAUNCHER (unchanged demo) -->
  <section class="component-section">
    <h2 class="section-title">7. Docs Launcher</h2>
    <div class="docs-launcher">
      <a href="#" class="doc-link"><svg class="doc-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></svg><div class="doc-title">AGENTS.md</div><div class="doc-description">System architecture</div></a>
      <a href="#" class="doc-link"><svg class="doc-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 016.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"/></svg><div class="doc-title">BACKLOG.md</div><div class="doc-description">Roadmap & tasks</div></a>
      <a href="#" class="doc-link"><svg class="doc-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 11H3v10h6V11z"/><path d="M15 3H9v8h6V3z"/><path d="M21 7h-6v14h6V7z"/></svg><div class="doc-title">Indicators Ref</div><div class="doc-description">All indicators guide</div></a>
      <a href="#" class="doc-link"><svg class="doc-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg><div class="doc-title">Policy Schema</div><div class="doc-description">Configuration spec</div></a>
    </div>
  </section>

  <script>
    // Models grid: search • filters • sort • paging • view toggle
    (function(){
      const grid = document.getElementById('mlGrid');
      const cards = Array.from(grid.querySelectorAll('.ml-card'));

      const q = document.getElementById('mlSearch');
      const packSel = document.getElementById('mlPack');
      const riskSel = document.getElementById('mlRisk');
      const sortSel = document.getElementById('mlSort');
      const sizeSel = document.getElementById('mlPageSize');

      const prev = document.getElementById('mlPrev');
      const next = document.getElementById('mlNext');
      const nums = document.getElementById('mlNums');
      const info = document.getElementById('mlPageInfo');

      const viewCards = document.getElementById('mlViewCards');
      const viewRows  = document.getElementById('mlViewRows');
      const rowHeader = document.getElementById('mlRowHeader');

      function row(el){
        const d = el.dataset;
        return {
          el,
          id: (d.id||''),
          pack: (d.pack||''),
          risk: (d.risk||''),
          pass: d.pass === 'true',
          sharpe: parseFloat(d.sharpe||'0')||0,
          ret: parseFloat(d.return||'0')||0,
          trades: parseInt(d.trades||'0',10)||0,
          updatedMin: parseInt(d.updatedMin||'999999',10)||999999
        };
      }
      const rows = cards.map(row);

      let state = { term:'', pack:'', risk:'', sort:'updated_desc', page:1, size:parseInt(sizeSel.value,10) };

      function apply(){
        const t = state.term.toLowerCase();
        let filtered = rows.filter(r =>
          (!t || r.id.toLowerCase().includes(t)) &&
          (!state.pack || r.pack === state.pack) &&
          (!state.risk || r.risk === state.risk)
        );

        const sorters = {
          updated_desc:(a,b)=>a.updatedMin - b.updatedMin,
          sharpe_desc:(a,b)=>b.sharpe - a.sharpe || a.id.localeCompare(b.id),
          return_desc:(a,b)=>b.ret - a.ret || a.id.localeCompare(b.id),
          trades_desc:(a,b)=>b.trades - a.trades || a.id.localeCompare(b.id),
          id_asc:(a,b)=>a.id.localeCompare(b.id),
          pack_asc:(a,b)=>a.pack.localeCompare(b.pack)||a.id.localeCompare(b.id)
        };
        filtered.sort(sorters[state.sort] || sorters.updated_desc);

        const total = filtered.length;
        const pages = Math.max(1, Math.ceil(total / state.size));
        state.page = Math.min(state.page, pages);
        const start = (state.page - 1) * state.size;
        const slice = filtered.slice(start, start + state.size);

        const frag = document.createDocumentFragment();
        slice.forEach(r => frag.appendChild(r.el));
        grid.innerHTML = '';
        grid.appendChild(frag);

        info.textContent = total ? `Showing ${start+1}–${Math.min(start+state.size,total)} of ${total} models` : 'No results';
        nums.innerHTML = '';
        for (let i=1;i<=pages;i++){
          const b = document.createElement('button');
          b.className = 'page-btn' + (i===state.page?' active':'');
          b.textContent = i;
          b.addEventListener('click',()=>{state.page=i;apply();});
          nums.appendChild(b);
        }
        prev.disabled = state.page===1;
        next.disabled = state.page===pages;
      }

      // events
      q.addEventListener('input',e=>{state.term=e.target.value;state.page=1;apply();});
      packSel.addEventListener('change',e=>{state.pack=e.target.value;state.page=1;apply();});
      riskSel.addEventListener('change',e=>{state.risk=e.target.value;state.page=1;apply();});
      sortSel.addEventListener('change',e=>{state.sort=e.target.value;state.page=1;apply();});
      sizeSel.addEventListener('change',e=>{state.size=parseInt(e.target.value,10);state.page=1;apply();});
      prev.addEventListener('click',()=>{if(state.page>1){state.page--;apply();}});
      next.addEventListener('click',()=>{state.page++;apply();});

      viewCards.addEventListener('click',()=>{viewCards.classList.add('active');viewRows.classList.remove('active');grid.classList.remove('row-view');rowHeader.style.display='none';});
      viewRows.addEventListener('click',()=>{viewRows.classList.add('active');viewCards.classList.remove('active');grid.classList.add('row-view');rowHeader.style.display='flex';});

      apply();
    })();
  </script>
</body>
</html>
