<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Sigmatiq Edge – Pack Explorer (Batch 4)</title>
  <link rel="stylesheet" href="../tokens/colors.css">
  <link rel="stylesheet" href="../tokens/typography.css">
  <link rel="stylesheet" href="../components/pack-explorer.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <div>
        <div class="small">Sigmatiq Edge – UI Kit</div>
        <h1 class="h3">Batch 4: Edge Pack Explorer</h1>
      </div>
      <div class="row">
        <button class="btn" onclick="toggleTheme()">Toggle Theme</button>
      </div>
    </header>

    <div class="toolbar">
      <div class="left">
        <div class="search">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M10 4a6 6 0 104.47 10.18l3.92 3.93 1.41-1.42-3.93-3.92A6 6 0 0010 4z"/></svg>
          <input id="q" class="input" type="search" placeholder="Search packs, tags, horizon…" oninput="render()">
        </div>
        <span class="count small" id="count"></span>
      </div>
      <div class="right">
        <label class="small" for="sort">Sort</label>
        <select id="sort" class="input select" onchange="render()">
          <option value="updated">Updated (newest)</option>
          <option value="name">Name (A–Z)</option>
        </select>
      </div>
    </div>

    <section class="grid" id="grid"></section>

    <footer class="row" style="justify-content: flex-end; margin-top: 16px;">
      <a class="btn" href="../components/pack-explorer.css" download>Download pack-explorer.css</a>
      <a class="btn" href="../components/pack-explorer.html" download>Download snippets</a>
      <a class="btn" href="../data/packs.sample.json" download>Download packs.sample.json</a>
    </footer>
  </div>

  <script>
    const packs = [
      {
        key: "zero",
        name: "ZeroEdge",
        edge: "zero",
        horizon: "Intraday",
        desc: "0DTE momentum + microstructure features with fast policy templates.",
        models: 6,
        signals: 12,
        updated: "2025-08-01",
        versions: ["1.3.0", "1.2.2", "1.1.0"],
        tags: ["microstructure", "0DTE", "real-time"]
      },
      {
        key: "swing",
        name: "SwingEdge",
        edge: "swing",
        horizon: "Swing",
        desc: "Multi-day swing alpha using regime/volatility filters and breadth signals.",
        models: 5,
        signals: 9,
        updated: "2025-07-22",
        versions: ["0.9.0", "0.8.1"],
        tags: ["momentum", "breadth", "regime"]
      },
      {
        key: "long",
        name: "LongEdge",
        edge: "long",
        horizon: "Long-Term",
        desc: "Weekly/Monthly factors with macro + carry overlays and policy templates.",
        models: 8,
        signals: 15,
        updated: "2025-07-30",
        versions: ["2.1.0", "2.0.4", "1.9.0"],
        tags: ["macro", "carry", "weekly"]
      },
      {
        key: "overnight",
        name: "OvernightEdge",
        edge: "overnight",
        horizon: "Overnight",
        desc: "Close-to-open gap strategies with liquidity and imbalance filters.",
        models: 3,
        signals: 6,
        updated: "2025-08-10",
        versions: ["0.3.0", "0.2.0"],
        tags: ["overnight", "gap", "imbalance"]
      }
    ];

    function toggleTheme(){
      const html = document.documentElement;
      html.setAttribute('data-theme', html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark');
    }

    function render(){
      const grid = document.getElementById('grid');
      const q = (document.getElementById('q').value || "").toLowerCase().trim();
      const sort = document.getElementById('sort').value;

      let filtered = packs.filter(p => {
        const hay = [p.name, p.horizon, p.desc, ...(p.tags || [])].join(" ").toLowerCase();
        return !q || hay.includes(q);
      });

      if (sort === 'updated'){
        filtered.sort((a,b) => (b.updated.localeCompare(a.updated)));
      } else if (sort === 'name'){
        filtered.sort((a,b) => a.name.localeCompare(b.name));
      }

      document.getElementById('count').textContent = `${filtered.length} / ${packs.length} packs`;

      grid.innerHTML = filtered.map(p => `
        <article class="card col-4" data-edge="${p.edge}" role="article" aria-labelledby="title-${p.key}">
          <header class="card-header">
            <div class="card-title">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 4h16v6H4zm0 8h10v8H4z"/></svg>
              <h3 id="title-${p.key}" class="h4">${p.name}</h3>
              <span class="badge">${p.horizon}</span>
            </div>
            <div class="version">
              <label class="small" for="v-${p.key}">Version</label>
              <select id="v-${p.key}" class="input select">
                ${(p.versions||[]).map(v=>`<option>${v}</option>`).join('')}
              </select>
            </div>
          </header>
          <p class="p desc">${p.desc}</p>
          <div class="meta">
            <span class="item"><svg class="icon" viewBox="0 0 24 24"><path fill="currentColor" d="M7 2h10v2H7zM5 6h14v14H5z"/></svg> ${p.models} models</span>
            <span class="item"><svg class="icon" viewBox="0 0 24 24"><path fill="currentColor" d="M13 3a9 9 0 11-6.32 15.32L3 21l2.68-3.68A9 9 0 0113 3z"/></svg> Signals: ${p.signals}</span>
            <span class="item"><svg class="icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12 7v5l4 2"/></svg> Updated: ${p.updated}</span>
          </div>
          <div class="tags">
            ${(p.tags||[]).map(t=>`<span class="tag">${t}</span>`).join('')}
          </div>
          <div class="card-actions">
            <button class="btn btn-primary">Install</button>
            <button class="btn btn-outline">View Panels</button>
            <button class="btn btn-ghost">Docs</button>
          </div>
        </article>
      `).join('');
    }

    render();
  </script>
</body>
</html>