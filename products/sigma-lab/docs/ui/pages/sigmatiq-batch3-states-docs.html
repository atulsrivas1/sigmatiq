<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SIGMATIQ - Batch 3: States & Docs — Updated</title>
  <style>
    :root{
      --sigmatiq-dark-teal:#1A2F2F;
      --sigmatiq-bright-teal:#00C4A7;
      --sigmatiq-golden:#FFB800;
      --color-bg:#0A1414;
      --color-surface-1:#0F1A1A;
      --color-surface-2:#111827;
      --color-surface-3:#1A2F2F;
      --color-border:#1A2F2F;
      --color-text-1:#F5F5F7;
      --color-text-2:#8FA5A5;
      --color-text-3:#6A8080;
      --status-success:#00C4A7;
      --status-warning:#FFB800;
      --status-error:#FF5757;
      --status-info:#3B82F6;
      --elev-1:0 4px 12px rgba(0,0,0,.25);
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:-apple-system,BlinkMacSystemFont,Inter,sans-serif;background:var(--color-bg);color:var(--color-text-1);padding:24px}
    .section{margin-bottom:48px;max-width:1200px;margin-left:auto;margin-right:auto}
    .section-title{color:var(--sigmatiq-bright-teal);font-size:24px;margin-bottom:24px;padding-bottom:12px;border-bottom:1px solid var(--color-border)}
    .demo-container{background:var(--color-surface-1);border:1px solid var(--color-border);border-radius:12px;padding:24px;margin-bottom:24px}
    .subsection-title{font-size:16px;color:var(--color-text-1);margin-bottom:16px;font-weight:600}

    /* Grid */
    .states-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}
    .state-card{background:var(--color-surface-2);border:1px solid var(--color-border);border-radius:8px;overflow:hidden}
    .state-card-header{padding:12px 16px;background:var(--color-surface-3);border-bottom:1px solid var(--color-border);font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--color-text-2)}
    .state-card-body{padding:20px}

    /* ===== Loading states ===== */
    .loading-skeleton{
      background:linear-gradient(90deg,var(--color-surface-2) 25%,var(--color-surface-3) 50%,var(--color-surface-2) 75%);
      background-size:200% 100%;
      animation:loading 1.35s infinite;
      border-radius:4px;
    }
    @keyframes loading{0%{background-position:200% 0}100%{background-position:-200% 0}}
    .skeleton-row{height:48px;margin-bottom:8px}
    .skeleton-title{height:18px;margin-bottom:12px}
    .skeleton-text{height:14px;margin:8px 0}

    /* varied widths for realism */
    .w-30{width:30%}.w-40{width:40%}.w-50{width:50%}.w-60{width:60%}.w-70{width:70%}.w-80{width:80%}.w-90{width:90%}
    .card-skeleton{display:grid;gap:12px}
    .skeleton-card-content{height:80px;border-radius:8px}

    /* Spinner */
    .spinner-wrap{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px}
    .spinner{width:40px;height:40px;border:3px solid var(--color-border);border-top-color:var(--sigmatiq-bright-teal);border-radius:50%;animation:spin 1s linear infinite}
    @keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}
    .spinner-text{margin-top:16px;color:var(--color-text-2);font-size:14px}

    /* Progress */
    .progress-container{padding:20px}
    .progress-label{font-size:14px;color:var(--color-text-2);margin-bottom:8px}
    .progress-bar{width:100%;height:4px;background:var(--color-surface-2);border-radius:2px;overflow:hidden}
    .progress-fill{height:100%;background:var(--sigmatiq-bright-teal);border-radius:2px;animation:progress 2s ease-in-out infinite}
    @keyframes progress{0%{width:0%}50%{width:70%}100%{width:100%}}

    /* ===== Empty states ===== */
    .empty-state{padding:48px 20px;text-align:center}
    .empty-icon{width:64px;height:64px;margin:0 auto 16px;color:var(--color-text-3)}
    .empty-title{font-size:18px;font-weight:600;margin-bottom:8px}
    .empty-message{color:var(--color-text-2);margin:0 auto 20px;max-width:420px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 20px;background:var(--color-surface-2);border:1px solid var(--color-border);border-radius:8px;color:var(--color-text-1);font-weight:600;cursor:pointer;transition:.2s;font-size:14px}
    .btn:hover{transform:translateY(-1px);box-shadow:var(--elev-1)}
    .btn-primary{background:var(--sigmatiq-bright-teal);border-color:var(--sigmatiq-bright-teal);color:var(--color-bg)}

    /* variants */
    .empty-state.no-results .empty-icon{color:var(--sigmatiq-golden)}
    .empty-state.first-time .empty-icon{color:var(--sigmatiq-bright-teal)}

    /* ===== Error states ===== */
    .error-state{background:rgba(255,87,87,.08);border:1px solid var(--status-error);padding:16px;border-radius:8px}
    .error-title{color:var(--status-error);font-weight:700;margin-bottom:6px}
    .error-message{color:var(--color-text-1);margin-bottom:8px}
    .error-details{font-size:12px;color:var(--color-text-2);margin-bottom:12px;padding:10px;background:var(--color-surface-1);border-radius:4px;font-family:Monaco,Consolas,monospace;max-height:120px;overflow:auto}

    /* Error banners */
    .error-banner{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-radius:8px;margin-bottom:16px}
    .error-banner.critical{background:var(--status-error);color:#fff}
    .error-banner.warn{background:rgba(255,184,0,.15);color:var(--color-text-1);border:1px solid var(--status-warning)}
    .error-banner-content{display:flex;align-items:center;gap:10px}
    .error-banner-close{background:none;border:none;color:inherit;cursor:pointer;font-size:18px}

    /* ===== Docs launcher ===== */
    .docs-launcher{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}
    .doc-link{display:flex;flex-direction:column;align-items:center;padding:22px 18px;background:var(--color-surface-2);border:1px solid var(--color-border);border-radius:10px;text-decoration:none;color:var(--color-text-1);transition:.2s;cursor:pointer;position:relative;overflow:hidden}
    .doc-link:focus-visible{outline:2px solid var(--sigmatiq-bright-teal);outline-offset:2px}
    .doc-link::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:var(--sigmatiq-bright-teal);transform:translateY(-100%);transition:transform .2s}
    .doc-link:hover{border-color:var(--sigmatiq-bright-teal);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,196,167,.18)}
    .doc-link:hover::before{transform:translateY(0)}
    .doc-icon{width:32px;height:32px;margin-bottom:12px;color:var(--sigmatiq-bright-teal)}
    .doc-title{font-weight:600;margin-bottom:4px;font-size:14px}
    .doc-description{font-size:12px;color:var(--color-text-2);text-align:center}
    .doc-meta{margin-top:10px;font-size:11px;color:var(--color-text-3)}
    .doc-badge{position:absolute;top:8px;right:8px;padding:2px 6px;background:var(--sigmatiq-golden);color:var(--color-bg);border-radius:4px;font-size:9px;font-weight:700}

    /* Accessibility helpers */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    @media (max-width:640px){
      .section{padding:0 8px}
    }
  </style>
</head>
<body>
  <div class="sr-only" aria-live="polite" aria-atomic="true" id="live-region"></div>

  <!-- LOADING STATES -->
  <section class="section" aria-labelledby="loadingTitle">
    <h2 id="loadingTitle" class="section-title">Loading States</h2>
    <div class="states-grid">
      <!-- Table Skeleton -->
      <div class="state-card">
        <div class="state-card-header">Table Skeleton</div>
        <div class="state-card-body">
          <div class="loading-skeleton skeleton-row"></div>
          <div class="loading-skeleton skeleton-row"></div>
          <div class="loading-skeleton skeleton-row"></div>
          <div class="loading-skeleton skeleton-title w-40"></div>
          <div class="loading-skeleton skeleton-text w-70"></div>
          <div class="loading-skeleton skeleton-text w-50"></div>
        </div>
      </div>

      <!-- Card Skeleton -->
      <div class="state-card">
        <div class="state-card-header">Card Skeleton</div>
        <div class="state-card-body">
          <div class="card-skeleton">
            <div class="loading-skeleton skeleton-title w-50"></div>
            <div class="loading-skeleton skeleton-text w-80"></div>
            <div class="loading-skeleton skeleton-text w-30"></div>
            <div class="loading-skeleton skeleton-card-content"></div>
          </div>
        </div>
      </div>

      <!-- Spinner -->
      <div class="state-card">
        <div class="state-card-header">Spinner</div>
        <div class="state-card-body">
          <div class="spinner-wrap">
            <div class="spinner" role="status" aria-label="Loading"></div>
            <div class="spinner-text">Loading models…</div>
          </div>
        </div>
      </div>

      <!-- Progress Bar -->
      <div class="state-card">
        <div class="state-card-header">Progress Bar</div>
        <div class="state-card-body">
          <div class="progress-container">
            <div class="progress-label" id="progressLabel">Building matrix… (65%)</div>
            <div class="progress-bar" aria-labelledby="progressLabel" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="65">
              <div class="progress-fill" style="width:65%"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- EMPTY STATES -->
  <section class="section" aria-labelledby="emptyTitle">
    <h2 id="emptyTitle" class="section-title">Empty States</h2>
    <div class="states-grid">
      <!-- No Data -->
      <div class="state-card">
        <div class="state-card-header">No Data</div>
        <div class="state-card-body">
          <div class="empty-state">
            <svg class="empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 01-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 01.55-.89l7-3.5a1 1 0 01.9 0l7 3.5A1 1 0 0120 6v7z"/>
              <path d="M12 8v4M12 16h.01"/>
            </svg>
            <div class="empty-title">No models yet</div>
            <div class="empty-message">Create your first model to start building trading strategies.</div>
            <button class="btn btn-primary" type="button" onclick="announce('Create Model clicked')">
              Create First Model
            </button>
          </div>
        </div>
      </div>

      <!-- No Results -->
      <div class="state-card">
        <div class="state-card-header">No Results</div>
        <div class="state-card-body">
          <div class="empty-state no-results">
            <svg class="empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <circle cx="11" cy="11" r="8"/>
              <path d="M21 21l-4.35-4.35"/>
            </svg>
            <div class="empty-title">No results found</div>
            <div class="empty-message">Try adjusting your filters or search terms.</div>
            <button class="btn" type="button" onclick="announce('Filters cleared')">Clear Filters</button>
          </div>
        </div>
      </div>

      <!-- First Time -->
      <div class="state-card">
        <div class="state-card-header">First Time User</div>
        <div class="state-card-body">
          <div class="empty-state first-time">
            <svg class="empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            <div class="empty-title">Welcome to SIGMATIQ</div>
            <div class="empty-message">Start with a template or take the product tour.</div>
            <div style="display:flex;gap:12px;justify-content:center">
              <button class="btn btn-primary" type="button" onclick="announce('Tour started')">Start Tour</button>
              <button class="btn" type="button" onclick="announce('Browse Templates opened')">Browse Templates</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ERROR STATES -->
  <section class="section" aria-labelledby="errorTitle">
    <h2 id="errorTitle" class="section-title">Error States</h2>

    <!-- Banners: critical and compact warning -->
    <div class="demo-container">
      <div class="subsection-title">Banners</div>
      <div class="error-banner critical" role="alert">
        <div class="error-banner-content">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/>
          </svg>
          <span>Failed to save changes. Please try again.</span>
        </div>
        <button class="error-banner-close" aria-label="Dismiss" onclick="this.parentElement.remove()">×</button>
      </div>

      <div class="error-banner warn" role="status" aria-live="polite">
        <div class="error-banner-content">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/>
          </svg>
          <span>Sync delayed. Retrying in the background.</span>
        </div>
        <button class="error-banner-close" aria-label="Dismiss" onclick="this.parentElement.remove()">×</button>
      </div>
    </div>

    <div class="states-grid">
      <!-- Connection Error -->
      <div class="state-card">
        <div class="state-card-header">Connection Error</div>
        <div class="state-card-body">
          <div class="error-state" role="alert">
            <div class="error-title">Connection Failed</div>
            <div class="error-message">Unable to connect to the server</div>
            <div class="error-details">
              Error: ECONNREFUSED 127.0.0.1:8080<br/>
              Timestamp: 2025-08-19 14:32:15
            </div>
            <button class="btn" type="button" onclick="announce('Retrying connection')">Retry Connection</button>
          </div>
        </div>
      </div>

      <!-- Validation Error -->
      <div class="state-card">
        <div class="state-card-header">Validation Error</div>
        <div class="state-card-body">
          <div class="error-state" role="alert">
            <div class="error-title">Validation Failed</div>
            <div class="error-message">Please fix the following errors:</div>
            <div class="error-details">
              • Model ID is required<br/>
              • Start date must be before end date<br/>
              • Threshold must be between 0 and 1
            </div>
            <button class="btn" type="button" onclick="announce('Review form action')">Review Form</button>
          </div>
        </div>
      </div>

      <!-- Server Error -->
      <div class="state-card">
        <div class="state-card-header">Server Error</div>
        <div class="state-card-body">
          <div class="error-state" role="alert">
            <div class="error-title">Server Error (500)</div>
            <div class="error-message">Something went wrong on our end</div>
            <div class="error-details">
              Request ID: abc123-def456<br/>
              Please contact support if this persists
            </div>
            <div style="display:flex;gap:12px;flex-wrap:wrap">
              <button class="btn" type="button" onclick="announce('Retry requested')">Retry</button>
              <button class="btn" type="button" onclick="announce('Contact support opened')">Contact Support</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- DOCS LAUNCHER -->
  <section class="section" aria-labelledby="docsTitle">
    <h2 id="docsTitle" class="section-title">Docs Launcher</h2>
    <div class="demo-container">
      <div class="docs-launcher">
        <a href="#" class="doc-link" onclick="openDoc('agents')" aria-label="Open AGENTS.md">
          <svg class="doc-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
            <polyline points="14 2 14 8 20 8"/>
            <line x1="16" y1="13" x2="8" y2="13"/>
            <line x1="16" y1="17" x2="8" y2="17"/>
          </svg>
          <div class="doc-title">AGENTS.md</div>
          <div class="doc-description">System architecture & design</div>
          <div class="doc-meta">Updated 2d ago</div>
        </a>

        <a href="#" class="doc-link" onclick="openDoc('backlog')" aria-label="Open BACKLOG.md">
          <span class="doc-badge">NEW</span>
          <svg class="doc-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M4 19.5A2.5 2.5 0 016.5 17H20"/>
            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"/>
          </svg>
          <div class="doc-title">BACKLOG.md</div>
          <div class="doc-description">Roadmap & upcoming features</div>
          <div class="doc-meta">Updated 1h ago</div>
        </a>

        <a href="#" class="doc-link" onclick="openDoc('indicators')" aria-label="Open Indicators Reference">
          <svg class="doc-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M9 11H3v10h6V11z"/>
            <path d="M15 3H9v8h6V3z"/>
            <path d="M21 7h-6v14h6V7z"/>
          </svg>
          <div class="doc-title">Indicators Reference</div>
          <div class="doc-description">Complete indicators guide</div>
          <div class="doc-meta">Updated 5d ago</div>
        </a>

        <a href="#" class="doc-link" onclick="openDoc('policy')" aria-label="Open Policy Schema">
          <svg class="doc-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <polyline points="16 18 22 12 16 6"/>
            <polyline points="8 6 2 12 8 18"/>
          </svg>
          <div class="doc-title">Policy Schema</div>
          <div class="doc-description">Configuration specifications</div>
          <div class="doc-meta">Updated 3w ago</div>
        </a>

        <a href="#" class="doc-link" onclick="openDoc('runbooks')" aria-label="Open Runbooks">
          <svg class="doc-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <circle cx="12" cy="12" r="3"/>
            <path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6"/>
          </svg>
          <div class="doc-title">Runbooks</div>
          <div class="doc-description">Operations & troubleshooting</div>
          <div class="doc-meta">Updated 6h ago</div>
        </a>

        <a href="#" class="doc-link" onclick="openDoc('model-cards')" aria-label="Open Model Cards">
          <svg class="doc-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M10 2v20M14 2v20M4 7h16M4 17h16"/>
          </svg>
          <div class="doc-title">Model Cards</div>
          <div class="doc-description">Model documentation templates</div>
          <div class="doc-meta">Updated 10d ago</div>
        </a>

        <a href="#" class="doc-link" onclick="openDoc('api')" aria-label="Open API Reference">
          <svg class="doc-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z"/>
            <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
            <line x1="12" y1="22.08" x2="12" y2="12"/>
          </svg>
          <div class="doc-title">API Reference</div>
          <div class="doc-description">REST API documentation</div>
          <div class="doc-meta">Updated 4d ago</div>
        </a>

        <a href="#" class="doc-link" onclick="openDoc('tutorials')" aria-label="Open Video Tutorials">
          <svg class="doc-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <polygon points="5 3 19 12 5 21 5 3"/>
          </svg>
          <div class="doc-title">Video Tutorials</div>
          <div class="doc-description">Step-by-step guides</div>
          <div class="doc-meta">Updated 9d ago</div>
        </a>
      </div>
    </div>
  </section>

  <script>
    function announce(msg){
      const lr=document.getElementById('live-region');
      lr.textContent=''; // ensure change
      setTimeout(()=>{lr.textContent=msg;},10);
    }
    function openDoc(docType){
      console.log('Opening documentation:', docType);
      alert(`Opening ${docType} documentation in new tab…`);
      // window.open(`/docs/${docType}`,'_blank');
    }

    // Optional: subtly vary skeleton widths each load
    (function jitterSkeletons(){
      const widths=['30','40','50','60','70','80','90'];
      document.querySelectorAll('.skeleton-text:not([class*="w-"]), .skeleton-title:not([class*="w-"])')
        .forEach(el=>{
          const w=widths[Math.floor(Math.random()*widths.length)];
          el.style.width=w+'%';
        });
    })();
  </script>
</body>
</html>
