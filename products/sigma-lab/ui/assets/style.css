/*=================================================================*/
/* 1) TOKENS & THEMES                                              */
/*=================================================================*/
:root {
  --navy:#0A2540; --teal:#1ABC9C; --slate:#334155; --gray:#94A3B8; --ivory:#E8E3D9;
  --status-success:#10B981; --status-warning:#F59E0B; --status-error:#EF4444;
  --shadow-sm:0 1px 3px rgba(10,37,64,.08); --shadow-md:0 4px 6px rgba(10,37,64,.1);
  --font-sans:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
  /* Controls */
  --btn-h: 36px;
  --btn-px: 12px;
  --btn-radius: 8px;
  --btn-font: 13px;
  --icon-size: 16px;
}

/* Pack accent system */
[data-edge="zerosigma"] { --accent: #EF4444; }
[data-edge="swingsigma"] { --accent: #F59E0B; }
[data-edge="longsigma"] { --accent: #10B981; }
[data-edge="overnightsigma"] { --accent: #8B5CF6; }
[data-edge="momentumsigma"] { --accent: #3B82F6; }

[data-theme='light']{
  --text-primary:#0A2540; --text-secondary:#334155; --text-muted:#94A3B8; --text-inverse:#FDFCFA;
  --bg-primary:#FDFCFA; --bg-secondary:#F8F7F5; --bg-tertiary:#E8E3D9;
  --surface-1:#FFFFFF; --surface-2:#F8F7F5;
  --border-color:#D1D5DB; --border-strong:#94A3B8;
  --primary-color:#1ABC9C; --primary-dark:#16A085;
  --bg-hover:rgba(26,188,156,.05);
  --ring:0 0 0 3px rgba(26,188,156,.35);
}
[data-theme='dark']{
  --text-primary:#F8F7F5; --text-secondary:#D1D5DB; --text-muted:#94A3B8; --text-inverse:#0A2540;
  --bg-primary:#0A2540; --bg-secondary:#061529; --bg-tertiary:#122B45;
  --surface-1:#122B45; --surface-2:#0A2540;
  --border-color:#334155; --border-strong:#475569;
  --primary-color:#48C9B0; --primary-dark:#1ABC9C;
  --bg-hover:rgba(72,201,176,.08);
  --ring:0 0 0 3px rgba(72,201,176,.45);
}
[data-theme='slate']{
  --text-primary:#F1F5F9; --text-secondary:#CBD5E1; --text-muted:#94A3B8; --text-inverse:#0F172A;
  --bg-primary:#1E293B; --bg-secondary:#0F172A; --bg-tertiary:#334155;
  --surface-1:#1E293B; --surface-2:#0F172A;
  --border-color:#475569; --border-strong:#64748B;
  --primary-color:#1ABC9C; --primary-dark:#16A085;
  --bg-hover:rgba(72,201,176,.10);
  --ring:0 0 0 3px rgba(26,188,156,.45);
}
[data-theme='paper']{
  --text-primary:#44403C; --text-secondary:#5f5b57; --text-muted:#A8A29E; --text-inverse:#F7F5F2;
  --bg-primary:#F7F5F2; --bg-secondary:#F2EEE9; --bg-tertiary:#D6D3D1;
  --surface-1:#FFFFFF; --surface-2:#F7F5F2;
  --border-color:#D6D3D1; --border-strong:#78716C;
  --primary-color:#16A085; --primary-dark:#0F7A65;
  --bg-hover:rgba(22,160,133,.05);
  --ring:0 0 0 3px rgba(22,160,133,.35);
}

/*=================================================================*/
/* 2) BASE LAYOUT                                                  */
/*=================================================================*/
html,body{height:100%;}
body{margin:0; font-family:var(--font-sans); background:var(--bg-secondary); color:var(--text-primary);} 
.app-container{display:flex; flex-direction:column; min-height:100vh;}

.top-bar{background:transparent; padding:10px 16px;}
.top-bar-inner{background:var(--bg-primary); border-bottom:2px solid var(--primary-color); border-radius:8px; box-shadow:var(--shadow-sm); min-height:64px; display:flex; align-items:center; justify-content:space-between; padding:10px 16px;}
.logo-section{display:flex; align-items:center; gap:10px;}
.menu-toggle{display:inline-flex; align-items:center; justify-content:center; width:36px; height:36px; background:var(--bg-tertiary); border:1px solid var(--border-color); border-radius:6px; cursor:pointer; color:var(--text-primary); font-size:24px; line-height:1;}
.menu-toggle:hover{background:var(--primary-color); color:var(--text-inverse); border-color:var(--primary-color);} 
.logo-container{display:flex; align-items:center; gap:10px; text-decoration:none; color:inherit;}
.logo-mark{width:45px; height:45px; display:block;}
.text-content{display:flex; flex-direction:column; align-items:flex-end; line-height:1; width:fit-content;}
.sigma-lab{font-size:11px; font-weight:600; color:var(--text-muted); letter-spacing:2px; text-transform:uppercase; margin-bottom:-1px;}
.sigmatiq-wrapper{display:flex; flex-direction:column; align-items:flex-start; width:100%;}
.sigmatiq{font-size:26px; font-weight:700; color:var(--text-secondary); letter-spacing:2px; text-transform:uppercase; position:relative; display:block; text-align:right; width:100%;}
.sigmatiq::after{content:""; display:block; height:2px; background:var(--primary-dark); margin-top:4px; border-radius:1px; width:100%;}
.tagline{font-size:7px; font-weight:700; color:var(--text-muted); letter-spacing:1.2px; text-transform:uppercase; margin-top:2px;}
.top-bar-actions{display:flex; align-items:center; gap:10px;}

/* Theme/Command buttons (match mock) */
.theme-toggle{
  display:inline-flex; align-items:center; justify-content:center;
  width:36px; height:36px; border-radius:6px;
  background: var(--bg-tertiary);
  border:1px solid var(--border-color);
  color: var(--text-primary);
  font-size:18px; line-height:1; cursor:pointer;
  transition: all .3s ease;
}
.theme-toggle:hover{
  background: var(--primary-color);
  color: var(--text-inverse);
  border-color: var(--primary-color);
  transform: rotate(20deg);
}
.theme-toggle:focus-visible{ outline:none; box-shadow: var(--ring); }

/* Command palette button specific styling */
#cmdk.theme-toggle {
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Monaco, Consolas, monospace;
  font-size: 11px;
  font-weight: 600;
  width: auto;
  min-width: 40px;
  padding: 0 8px;
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  color: var(--text-secondary);
}

#cmdk.theme-toggle:hover {
  background: var(--bg-hover);
  color: var(--primary-color);
  border-color: var(--primary-color);
  transform: translateY(-1px);
}

.main-layout{display:flex; flex:1; overflow:hidden; padding:0 16px;}
.sidebar{width:240px; background:var(--bg-secondary); border-right:none; overflow:auto; transition:width .25s ease-in-out;}
/* Collapsed (desktop): shrink to icon-only width */
.sidebar.collapsed{ width: 72px; }
.nav-item{display:flex; align-items:center; gap:12px; padding:12px 16px; color:var(--text-secondary); text-decoration:none; border-left:3px solid transparent; transition:all .25s ease-in-out; font-size:14px; font-weight:500;}
.nav-item:hover{background:var(--bg-secondary); color:var(--text-primary);} 
.nav-item.active{background:linear-gradient(90deg,transparent,var(--bg-hover)); color:var(--primary-color); border-left-color:var(--primary-color);} 
.nav-icon{width:20px; height:20px; display:block; flex-shrink:0;}
/* Hide text in collapsed state */
.sidebar.collapsed .nav-item{padding:12px; justify-content:center;}
.sidebar.collapsed .nav-item span{display:none;}
.sidebar.collapsed .nav-chevron{display:none;}
.sidebar.collapsed .nav-submenu{display:none !important;}
.sidebar.collapsed .nav-parent{justify-content:center;}
.content-area{position:relative; z-index:1; flex:1; overflow:auto; padding:24px;} 
.page-container{margin:0 auto;} 
.page-header{display:flex; align-items:center; justify-content:space-between; margin-bottom:20px;}
.page-title{font-size:26px; font-weight:700; margin:0; display:flex; align-items:center; gap:8px; line-height:1; color:var(--text-secondary);}
.header-actions{display:flex; gap:10px;}

/* Text hierarchy consistency - applies to ALL pages */
h1, h2, h3, h4, h5, h6{color:var(--text-secondary);}
.section-title, .refinement-title{color:var(--text-secondary); font-weight:600; font-size:16px;}
.refinement-section{color:var(--text-secondary);}
.dashboard-grid, .section-container, .quick-actions{color:var(--text-secondary);}
.content-area, .content-area div, .content-area p, .content-area span{color:var(--text-secondary);}
.models-grid, .sweeps-grid, .leaderboard-grid{color:var(--text-secondary);}
.card, .model-card, .run-card, .sweep-card{color:var(--text-secondary);}
.card-title, .card-content, .card-body{color:var(--text-secondary);}
.form-label, .form-group, .form-row{color:var(--text-secondary);}
.console-output, .status-text, .meta-info{color:var(--text-secondary);}
p, div, span{color:inherit;}
.text-muted, .meta-text{color:var(--text-muted);}
/*=================================================================*/
/* 3) COMPONENTS                                                   */
/*=================================================================*/
.btn{display:inline-flex; align-items:center; gap:8px; height:var(--btn-h); padding:0 var(--btn-px); border-radius:var(--btn-radius); font-size:var(--btn-font); line-height:1.1; font-weight:500; border:1px solid transparent; cursor:pointer; transition:all .2s; vertical-align:middle; text-decoration:none;}
.btn:link,.btn:visited,.btn:hover,.btn:focus{ text-decoration:none; }
/* Button sizes */
.btn-lg{ height:40px; padding:0 24px; font-size:14px; border-radius:8px; }
.btn-sm{ height:30px; padding:0 10px; font-size:12px; border-radius:6px; }

/* Button variants */
.btn-primary{background:rgba(26,188,156,0.10); color:var(--primary-color); border-color:var(--primary-color); font-weight:500;} 
.btn-primary:hover{background:rgba(26,188,156,0.15); border-color:var(--primary-color); box-shadow:var(--shadow-sm); transform:translateY(-1px);}
.btn-primary .icon svg{stroke:var(--primary-color) !important;} 
.btn-secondary{background:transparent; color:var(--text-secondary); border-color:var(--border-color); font-weight:500;} 
.btn-secondary:hover{background:var(--bg-hover); color:var(--primary-color); border-color:var(--primary-color);}
.sample-card{background:var(--surface-1); border:1px solid var(--border-color); border-radius:8px; padding:1rem; box-shadow:var(--shadow-sm); color:var(--text-secondary);} 

/* Models Grid and Cards */
.filters-bar{display:flex; gap:12px; margin-bottom:25px; flex-wrap:wrap; align-items:center; justify-content:space-between;}
.filters-left{display:flex; gap:12px; align-items:center;}
.filters-right{display:flex; gap:12px; align-items:center;}
.search-box{width:240px !important; position:relative !important; flex-shrink:0 !important; min-width:200px !important;}
.search-input{width:100% !important; padding:12px 50px 12px 15px !important; border:1px solid var(--border-color) !important; border-radius:8px !important; background:var(--bg-primary) !important; color:var(--text-secondary) !important; font-size:14px !important; transition:all .2s !important; box-sizing:border-box !important;}
.search-input::placeholder{color:var(--text-muted) !important; font-size:14px !important;}
.search-input:focus{outline:none !important; border-color:var(--primary-color) !important; box-shadow:0 0 0 3px rgba(26,188,156,0.15) !important; color:var(--primary-color) !important;}
.search-icon{position:absolute !important; right:15px !important; top:50% !important; transform:translateY(-50%) !important; width:22px !important; height:22px !important; stroke:var(--text-muted) !important; pointer-events:none !important; transition:stroke .3s ease !important; stroke-width:3 !important; filter:drop-shadow(0 1px 3px rgba(0,0,0,0.2)) !important; z-index:10 !important;}
.search-box:focus-within .search-icon{stroke:var(--primary-color) !important;}
.filter-chip, .filter-chip.pack-badge, .filter-chip#filter-all, .filter-chip[data-filter="all"]{padding:6px 10px !important; border:1px solid var(--border-color) !important; border-radius:8px !important; background:var(--bg-primary) !important; color:var(--text-secondary) !important; font-size:12px !important; cursor:pointer !important; transition:all .2s !important; white-space:nowrap !important; height:auto !important; line-height:1.4 !important;}
.filter-chip:hover{border-color:var(--primary-color) !important; color:var(--primary-color) !important;}
.filter-chip.active{background:rgba(26,188,156,0.1) !important; color:var(--primary-color) !important; border-color:var(--primary-color) !important;}
/* Pack badge filter chips inherit pack colors */
.filter-chip.pack-badge.zerosigma{background:rgba(26,188,156,0.1) !important; color:var(--primary-color) !important; border-color:rgba(26,188,156,0.3) !important;}
.filter-chip.pack-badge.swingsigma{background:rgba(245,158,11,0.1) !important; color:#F59E0B !important; border-color:rgba(245,158,11,0.3) !important;}
.filter-chip.pack-badge.momentumsigma{background:rgba(239,68,68,0.1) !important; color:#EF4444 !important; border-color:rgba(239,68,68,0.3) !important;}
.filter-chip.pack-badge.longsigma{background:rgba(16,185,129,0.1) !important; color:#10B981 !important; border-color:rgba(16,185,129,0.3) !important;}
.filter-chip.pack-badge:hover{opacity:0.8 !important; transform:translateY(-1px) !important;}
.filter-chip.pack-badge.active{opacity:1 !important; transform:translateY(-1px) !important;}
/* All button gets same styling as pack badges */
.filter-chip#filter-all, .filter-chip[data-filter="all"]{background:rgba(26,188,156,0.1) !important; color:var(--primary-color) !important; border-color:rgba(26,188,156,0.3) !important;}
.filter-chip#filter-all:hover, .filter-chip[data-filter="all"]:hover{opacity:0.8 !important; transform:translateY(-1px) !important;}
.filter-chip#filter-all.active, .filter-chip[data-filter="all"].active{opacity:1 !important; transform:translateY(-1px) !important;}

/* Responsive filters */
@media (max-width: 1200px) {
  .search-box{width:220px;}
  .filter-chip{padding:6px 10px; font-size:12px;}
}

@media (max-width: 768px) {
  .filters-bar{flex-direction:column; gap:15px; align-items:stretch;}
  .filters-left, .filters-right{justify-content:center;}
  .search-box{width:100%;}
  .filters-right{flex-wrap:wrap; justify-content:center;}
}

.models-grid{display:grid; grid-template-columns:repeat(auto-fill, minmax(350px, 1fr)); gap:30px; margin-bottom:30px;}
.model-card{background:var(--bg-primary); border:1px solid var(--border-color); border-radius:8px; overflow:hidden; transition:all .3s ease; cursor:pointer;}
.model-card:hover{transform:translateY(-2px); box-shadow:var(--shadow-md); border-color:var(--primary-color);}
.model-header{padding:20px; border-bottom:1px solid var(--border-color); background:rgba(26,188,156,0.05);}
.model-id{font-size:16px; font-weight:600; color:var(--text-primary); font-family:Monaco,Menlo,monospace; margin-bottom:8px;}
.model-meta{display:flex; gap:15px; font-size:12px; color:var(--text-muted); flex-wrap:wrap; align-items:center;}
.ticker-price{display:flex; align-items:center; gap:6px; font-family:Monaco,Menlo,monospace; font-weight:600;}
.ticker-symbol{color:var(--text-primary); font-size:13px;}
.current-price{color:var(--text-primary); font-size:13px;}
.price-change{font-size:11px; font-weight:500;}
.price-change.positive{color:var(--status-success);}
.price-change.negative{color:var(--status-error);}
.price-change.neutral{color:var(--text-muted);}
.pack-badge{display:inline-block; padding:3px 8px; border-radius:4px; font-size:11px; font-weight:600; text-transform:uppercase;}
.pack-badge.zerosigma{background:rgba(26,188,156,0.1); color:var(--primary-color);}
.pack-badge.swingsigma{background:rgba(245,158,11,0.1); color:#F59E0B;}
.pack-badge.momentumsigma{background:rgba(239,68,68,0.1); color:#EF4444;}
.pack-badge.longsigma{background:rgba(16,185,129,0.1); color:#10B981;}
.model-body{padding:20px;}
.model-stats{display:grid !important; grid-template-columns:repeat(3,1fr) !important; gap:25px !important; margin-bottom:20px !important; align-items:center !important;}
.stat-item{text-align:center !important; display:flex !important; flex-direction:column !important; align-items:center !important; justify-content:center !important;}
.stat-value{font-size:20px !important; font-weight:600 !important; color:var(--text-primary) !important; line-height:1.2 !important; margin:0 !important; padding:0 !important;}
.stat-label{font-size:11px !important; color:var(--text-muted) !important; text-transform:uppercase !important; margin-top:2px !important; line-height:1.2 !important; margin-bottom:0 !important; padding:0 !important;}
.model-actions{display:flex !important; gap:8px !important; justify-content:center !important; align-items:center !important;}
.model-actions .btn, .model-card .btn{font-size:12px !important; padding:6px 12px !important; height:32px !important; line-height:1.4 !important;}

/* Icon helpers */
.icon{display:inline-flex; align-items:center; justify-content:center; width:var(--icon-size); height:var(--icon-size); color:inherit; flex:0 0 var(--icon-size);} 
.icon img,.icon svg{width:100%; height:100%; display:block;}
.icon svg{stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round;}
.title-icon svg{stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round;}
/* Title icon matches sidebar nav icon size (20px) */
.title-icon{display:inline-flex; align-items:center; justify-content:center; width:20px; height:20px; color:inherit; flex:0 0 20px;}
.title-icon img,.title-icon svg{width:100%; height:100%; display:block;}

/* Accessibility helpers */
.sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;}

/* Density system */
[data-density="compact"] {
  --table-padding: 6px 10px;
  --card-padding: 12px;
  --form-height: 32px;
  --font-size-base: 12px;
  --line-height-base: 1.3;
}

[data-density="cozy"] {
  --table-padding: 10px 12px;
  --card-padding: 20px;
  --form-height: 36px;
  --font-size-base: 13px;
  --line-height-base: 1.4;
}

[data-density="comfortable"] {
  --table-padding: 14px 16px;
  --card-padding: 24px;
  --form-height: 40px;
  --font-size-base: 14px;
  --line-height-base: 1.5;
}

/* Density selector */
.density-selector {
  display: flex;
  align-items: center;
}

.density-select {
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  color: var(--text-primary);
  padding: 4px 8px;
  font-size: 12px;
  min-width: 80px;
}

.density-select:focus {
  outline: none;
  box-shadow: var(--ring);
}
.btn:focus-visible{outline:none; box-shadow:var(--ring);} 

/* Overlay for palette & mobile drawer */
.overlay{position:fixed; inset:0; background:rgba(0,0,0,.45); display:none; z-index:1050;}
.overlay[aria-hidden="false"]{display:block;}

/* Command palette */
/* Command Palette */
.cmdk {
  position: fixed;
  top: 15%;
  left: 50%;
  transform: translateX(-50%);
  width: min(600px, 90vw);
  max-width: 600px;
  background: var(--surface-1);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  display: none;
  flex-direction: column;
  z-index: 1200;
  opacity: 0;
  transform: translateX(-50%) translateY(-10px) scale(0.95);
  transition: all 0.2s ease;
}

.cmdk[aria-hidden="false"] {
  display: flex;
  opacity: 1;
  transform: translateX(-50%) translateY(0) scale(1);
}

.cmdk-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px 20px;
  border-bottom: 1px solid var(--border-color);
  background: var(--surface-1);
  border-radius: 12px 12px 0 0;
}

.cmdk-header strong {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-secondary);
  margin: 0;
}

.cmdk-input {
  flex: 1;
  background: var(--bg-secondary);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 10px 12px;
  font-size: 14px;
  outline: none;
  transition: all 0.2s ease;
}

.cmdk-input:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px rgba(26, 188, 156, 0.1);
}

.cmdk-input::placeholder {
  color: var(--text-secondary);
}

.cmdk-list {
  max-height: 320px;
  overflow-y: auto;
  padding: 8px;
  background: var(--surface-1);
  border-radius: 0 0 12px 12px;
}

.cmdk-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  color: var(--text-primary);
  transition: all 0.15s ease;
  margin: 2px 0;
}

.cmdk-item:hover,
.cmdk-item[aria-selected="true"] {
  background: var(--bg-hover);
  color: var(--primary-color);
}

.cmdk-item:first-child {
  margin-top: 0;
}

.cmdk-item:last-child {
  margin-bottom: 0;
}

.kbd {
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  background: var(--bg-tertiary);
  border: 1px solid var(--border-color);
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 11px;
  font-weight: 500;
  color: var(--text-secondary);
  min-width: 20px;
  text-align: center;
  line-height: 1;
} 

/*=================================================================*/
/* 4) RESPONSIVE                                                   */
/*=================================================================*/
@media (max-width:1024px){
  .sidebar{position:fixed; top:var(--header-height, 64px); left:0; bottom:0; z-index:1100; transform:translateX(-100%); transition:transform .25s ease-in-out; box-shadow:var(--shadow-md); width:240px;} 
  .sidebar.open{transform:translateX(0);} 
  .content-area{padding:20px;} 
}

/* Desktop collapse - handled above with width transition */

/* Dashboard Components */
.dashboard-grid{display:grid; grid-template-columns:repeat(auto-fit, minmax(400px, 1fr)); gap:30px; margin-bottom:30px;}
.dashboard-section{background:var(--surface-1); border:1px solid var(--border-color); border-radius:8px; padding:20px; box-shadow:var(--shadow-sm);}
.section-header{display:flex; justify-content:space-between; align-items:center; margin-bottom:16px;}
.section-title{font-size:16px; font-weight:600; color:var(--text-secondary); margin:0; display:flex; align-items:center; gap:8px;}
.section-title-icon{width:16px; height:16px; flex-shrink:0; color:var(--primary-color);}
.section-link{display:inline-flex; align-items:center; gap:6px; height:28px; padding:0 10px; border-radius:6px; font-size:12px; line-height:1.1; font-weight:500; border:1px solid transparent; cursor:pointer; transition:all .2s; vertical-align:middle; text-decoration:none; background:transparent; color:var(--text-secondary); border-color:var(--border-color);}
.section-link:hover{background:var(--bg-hover); color:var(--primary-color); border-color:var(--primary-color); text-decoration:none;}
.section-link:hover .icon svg{stroke:var(--primary-color);}

/* Recent Models */
.recent-models-list{display:flex; flex-direction:column; gap:12px;}
.recent-model-item{padding:12px; border:1px solid var(--border-color); border-radius:6px; background:var(--bg-primary);}
.model-header-compact{display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:8px;}
.model-id-compact{font-size:14px; font-weight:600; color:var(--text-primary); font-family:Monaco,Menlo,monospace;}
.model-badges{display:flex; gap:6px;}
.algorithm-badge{padding:2px 6px; border-radius:4px; font-size:10px; font-weight:600; text-transform:uppercase;}
.algorithm-badge.knn{background:rgba(26,188,156,0.1); color:var(--primary-color);}
.algorithm-badge.gbm{background:rgba(245,158,11,0.1); color:#F59E0B;}
.algorithm-badge.rf{background:rgba(16,185,129,0.1); color:#10B981;}
.algorithm-badge.svm{background:rgba(239,68,68,0.1); color:#EF4444;}
.status-badge{padding:2px 6px; border-radius:4px; font-size:10px; font-weight:600; text-transform:uppercase;}
.status-badge.status-success{background:rgba(16,185,129,0.1); color:#10B981;}
.status-badge.status-warning{background:rgba(245,158,11,0.1); color:#F59E0B;}
.status-badge.status-info{background:rgba(59,130,246,0.1); color:#3B82F6;}
.status-badge.status-default{background:var(--bg-tertiary); color:var(--text-muted);}
.model-details{margin-bottom:8px;}
.model-dataset, .model-signal, .model-inputs{font-size:12px; color:var(--text-muted); margin-bottom:2px;}
.model-footer{display:flex; justify-content:space-between; align-items:center; font-size:11px; color:var(--text-muted);}

/* Recent Runs */
.recent-runs-list{display:flex; flex-direction:column; gap:12px;}
.recent-run-item{padding:12px; border:1px solid var(--border-color); border-radius:6px; background:var(--bg-primary);}
.run-header-compact{display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:8px;}
.run-model-id{font-size:14px; font-weight:600; color:var(--text-primary); font-family:Monaco,Menlo,monospace;}
.run-badges{display:flex; gap:6px;}
.run-type-badge{padding:2px 6px; border-radius:4px; font-size:10px; font-weight:600; text-transform:uppercase;}
.run-type-badge.type-backtest{background:rgba(26,188,156,0.1); color:var(--primary-color);}
.run-type-badge.type-train{background:rgba(245,158,11,0.1); color:#F59E0B;}
.run-type-badge.type-build{background:rgba(16,185,129,0.1); color:#10B981;}
.run-type-badge.type-sweep{background:rgba(239,68,68,0.1); color:#EF4444;}
.run-type-badge.type-default{background:var(--bg-tertiary); color:var(--text-muted);}
.run-metrics{display:flex; gap:12px; flex-wrap:wrap; margin-bottom:8px;}
.metric-item{display:flex; gap:4px; font-size:12px;}
.metric-label{color:var(--text-muted);}
.metric-value{color:var(--text-primary); font-weight:500;}
.run-footer{font-size:11px; color:var(--text-muted);}

/* Quick Actions */
.quick-actions-grid{display:grid; grid-template-columns:repeat(auto-fit, minmax(120px, 1fr)); gap:20px;}
.quick-action-card{display:flex; flex-direction:column; align-items:center; gap:8px; padding:16px; border:1px solid var(--border-color); border-radius:6px; background:var(--bg-primary); text-decoration:none; color:var(--text-secondary); transition:all .2s;}
.quick-action-card:hover{border-color:var(--primary-color); color:var(--primary-color); transform:translateY(-1px); box-shadow:var(--shadow-sm);}
.quick-action-card:hover .quick-action-icon svg{stroke:var(--primary-color);}
.quick-action-card:hover .quick-action-label{color:var(--primary-color);}
.quick-action-icon{width:24px; height:24px; display:flex; align-items:center; justify-content:center;}
.quick-action-icon svg{width:100%; height:100%; stroke:currentColor; transition:stroke .2s;}
.quick-action-label{font-size:12px; font-weight:500; text-align:center; transition:color .2s;}

/* Responsive Dashboard */
@media (max-width: 768px) {
  .dashboard-grid{grid-template-columns:1fr; gap:25px;}
  .quick-actions-grid{grid-template-columns:repeat(2, 1fr);}
  .system-health-grid{grid-template-columns:1fr;}
  
  /* Responsive Sweeps */
  .control-grid{grid-template-columns:1fr; gap:50px;}
  .guards-row{grid-template-columns:1fr;}
  .results-table{font-size:12px;}
  .results-table th, .results-table td{padding:8px;}
  
  /* Responsive Build/Train/Backtest */
  .content-grid{grid-template-columns:1fr;}
  .form-row{grid-template-columns:1fr; gap:50px;}
  .form-row .form-group{margin-bottom:0;}
  .metric-grid{grid-template-columns:repeat(2,1fr);}
  .tab-nav{flex-direction:column;}
  .tab-btn{flex:none;}
}

/* System Health */
.system-health-grid{display:grid; grid-template-columns:repeat(3, 1fr); gap:25px;}
.health-item{text-align:center; padding:15px; background:var(--bg-secondary); border-radius:6px;}
.health-label{font-size:12px; color:var(--text-secondary); margin-bottom:8px; font-weight:500;}
.health-status{font-size:14px; font-weight:600; padding:4px 8px; border-radius:4px; display:inline-block;}
.health-status.status-success{background:rgba(16,185,129,0.1); color:#10B981;}
.health-status.status-warning{background:rgba(245,158,11,0.1); color:#F59E0B;}
.health-status.status-error{background:rgba(239,68,68,0.1); color:#EF4444;}

/* Sweeps Page Components */
.page-description{color:var(--text-muted); font-size:14px; margin-bottom:20px;}
.control-panel{background:var(--surface-1); border:1px solid var(--border-color); border-radius:8px; padding:30px; margin-bottom:30px;}
.control-title{font-size:18px; font-weight:600; color:var(--text-secondary); margin-bottom:25px; padding-bottom:15px; border-bottom:1px solid var(--border-color); display:flex; align-items:center; gap:8px;}
.control-title-icon{width:18px; height:18px; flex-shrink:0; color:var(--primary-color);}
.control-grid{display:grid; grid-template-columns:1fr 1fr; gap:50px; margin-bottom:25px;}
.control-group{margin-bottom:25px; position:relative; width:100%; box-sizing:border-box;}
.control-label{display:block; font-size:13px; font-weight:500; color:var(--text-secondary); margin-bottom:12px; text-transform:uppercase; letter-spacing:0.5px;}
.control-input{width:100%; height:44px; padding:12px 16px; border:1px solid var(--border-color); border-radius:8px; background:var(--surface-1); color:var(--text-secondary); font-size:14px; transition:all .2s; font-family:var(--font-sans); position:relative; z-index:1; box-shadow:0 1px 2px rgba(0,0,0,0.05); appearance:none; -webkit-appearance:none; -moz-appearance:none; box-sizing:border-box; min-width:0; max-width:100%;}
.control-input:focus{outline:none; border-color:var(--primary-color); box-shadow:0 0 0 3px rgba(26,188,156,0.15); color:var(--primary-color) !important; background:var(--surface-1);}
.control-input::placeholder{color:var(--text-muted);}
.variant-input{display:flex; gap:10px; align-items:center; margin-bottom:25px;}
.variant-input input{flex:1;}
.add-variant-btn{padding:8px 12px; background:var(--bg-tertiary); border:1px solid var(--border-color); border-radius:6px; color:var(--text-secondary); font-size:13px; cursor:pointer; transition:all .2s; margin-top:8px;}
.add-variant-btn:hover{background:var(--bg-hover); color:var(--primary-color); border-color:var(--primary-color);}
.guards-row{display:grid; grid-template-columns:minmax(120px,1fr) minmax(120px,1fr) minmax(120px,1fr); gap:50px;}
.guards-row .control-group{margin-bottom:0;}
.guards-row .control-label{font-size:11px; margin-bottom:8px;}
.guards-row > div{min-width:0;}
.action-row{display:flex; gap:10px; justify-content:flex-end; padding-top:20px; border-top:1px solid var(--border-color);}

/* Results Section */
.results-section{background:var(--surface-1); border:1px solid var(--border-color); border-radius:8px; overflow:hidden;}
.results-header{padding:20px; border-bottom:1px solid var(--border-color); display:flex; justify-content:space-between; align-items:center;}
.results-title{font-size:18px; font-weight:600; color:var(--text-secondary); display:flex; align-items:center; gap:8px;}
.results-title-icon{width:18px; height:18px; flex-shrink:0; color:var(--primary-color);}
.results-actions{display:flex; gap:10px;}
.actions-right{display:flex; gap:10px; justify-content:flex-end; margin-left:auto;}
.card-actions{display:flex; gap:10px; justify-content:flex-end; margin-top:15px;}
.results-table{width:100%; border-collapse:collapse;}
.results-table th{
  background:var(--surface-1); 
  padding:12px 15px; 
  text-align:left; 
  font-size:12px; 
  font-weight:600; 
  color:var(--text-secondary); 
  text-transform:uppercase; 
  letter-spacing:0.5px; 
  border-bottom:1px solid var(--border-color);
  position:sticky;
  top:0;
  z-index:10;
}
.results-table td{padding:15px; font-size:14px; color:var(--text-secondary); border-bottom:1px solid var(--border-color);}
.results-table tr:last-child td{border-bottom:none;}
.results-table tr:hover{background:var(--bg-hover);}
.results-table tbody tr:nth-child(even){background:rgba(0,0,0,0.02);}
.results-table tbody tr:nth-child(even):hover{background:var(--bg-hover);}

/* Table utility classes */
.cell-right{text-align:right !important;}
.cell-center{text-align:center !important;}
.result-kind{padding:3px 8px; border-radius:4px; font-size:11px; font-weight:600; text-transform:uppercase;}
.result-kind.thr{background:rgba(139,92,246,0.1); color:#8B5CF6;}
.result-kind.top_pct{background:rgba(59,130,246,0.1); color:#3B82F6;}
.tag-badge{padding:3px 8px; background:var(--bg-tertiary); border-radius:4px; font-size:11px; font-weight:500;}
.csv-btn{padding:4px 8px; background:var(--bg-hover); border:1px solid var(--border-color); border-radius:4px; font-size:12px; cursor:pointer; transition:all .2s;}
.csv-btn:hover{background:var(--primary-color); color:white; border-color:var(--primary-color);}
.train-btn{padding:4px 12px; background:rgba(26,188,156,0.1); color:var(--primary-color); border:1px solid var(--primary-color); border-radius:4px; font-size:12px; cursor:pointer; transition:all .2s;}
.train-btn:hover{background:rgba(26,188,156,0.15);}
.empty-state{text-align:center; padding:60px 20px; color:var(--text-muted);}
.empty-state h3{font-size:18px; margin-bottom:10px; color:var(--text-secondary);}
.empty-state p{font-size:14px;}

/* Build/Train/Backtest Page Components */
.tab-nav{display:flex; gap:5px; margin-bottom:30px; background:var(--surface-1); padding:8px; border-radius:10px; border:1px solid var(--border-color);}
.tab-btn{flex:1; padding:12px 20px; background:transparent; border:none; border-radius:6px; font-size:14px; font-weight:500; color:var(--text-secondary); cursor:pointer; transition:all .2s;}
.tab-btn:hover{background:var(--bg-hover); color:var(--text-primary);}
.tab-btn.active{background:rgba(26,188,156,0.1); color:var(--primary-color); border:1px solid var(--primary-color);}
.tab-content{display:block;}
.content-grid{display:grid; grid-template-columns:1fr 1fr; gap:35px;}
.card{background:var(--surface-1); border:1px solid var(--border-color); border-radius:8px; padding:25px; transition:all .3s ease;}
.card:hover{box-shadow:var(--shadow-md);}
.card-title{font-size:18px; font-weight:600; color:var(--text-secondary); margin-bottom:20px; padding-bottom:15px; border-bottom:1px solid var(--border-color); display:flex; align-items:center; gap:8px;}
.card-title-icon{width:18px; height:18px; flex-shrink:0; color:var(--primary-color);}
.form-row{display:grid; grid-template-columns:1fr 1fr; gap:50px; margin-bottom:25px; width:100%; box-sizing:border-box;}
.form-row .form-group{margin-bottom:0;}
.form-group{margin-bottom:25px; position:relative; width:100%; box-sizing:border-box;}
.form-label{display:block; font-size:12px; font-weight:600; color:var(--text-secondary); margin-bottom:12px; text-transform:uppercase; letter-spacing:0.5px; line-height:1.2;}
.filter-help{display:block; font-size:11px; color:var(--text-muted); margin-top:4px; font-style:italic; line-height:1.3;}

/* Enhanced Form Inputs & Selects */
.form-input, select.form-input{
  width:100%; 
  height:44px;
  padding:12px 16px; 
  border:1px solid var(--border-color); 
  border-radius:8px; 
  background:var(--surface-1); 
  color:var(--text-primary); 
  font-size:14px; 
  font-family:var(--font-sans);
  transition:all .2s ease;
  box-shadow:0 1px 2px rgba(0,0,0,0.05);
  appearance:none;
  -webkit-appearance:none;
  -moz-appearance:none;
  position:relative;
  z-index:1;
  box-sizing:border-box;
  min-width:0;
  max-width:100%;
}

/* Custom dropdown arrow for select */
select.form-input{
  background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2394A3B8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat:no-repeat;
  background-position:right 16px center;
  background-size:16px;
  padding-right:44px;
  cursor:pointer;
}

.form-input:focus, select.form-input:focus{
  outline:none; 
  border-color:var(--primary-color); 
  box-shadow:0 0 0 3px rgba(26,188,156,0.1), 0 1px 3px rgba(0,0,0,0.1);
  background:var(--surface-1);
}

.form-input:hover, select.form-input:hover{
  border-color:var(--border-strong);
}

.form-input::placeholder{
  color:var(--text-muted); 
  font-style:italic;
}

/* Date inputs */
input[type="date"].form-input{
  position:relative;
  cursor:pointer;
}

/* Fix for date input calendar icon */
input[type="date"].form-input::-webkit-calendar-picker-indicator {
  background: transparent;
  bottom: 0;
  color: transparent;
  cursor: pointer;
  height: auto;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  width: auto;
  z-index: 1;
}

/* Number inputs */
input[type="number"].form-input{
  padding-right:16px;
}

/* Remove number input arrows */
input[type="number"].form-input::-webkit-outer-spin-button,
input[type="number"].form-input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Prevent autofill styling issues */
.form-input:-webkit-autofill,
.form-input:-webkit-autofill:hover,
.form-input:-webkit-autofill:focus,
.control-input:-webkit-autofill,
.control-input:-webkit-autofill:hover, 
.control-input:-webkit-autofill:focus {
  -webkit-box-shadow: 0 0 0px 1000px var(--surface-1) inset !important;
  -webkit-text-fill-color: var(--text-primary) !important;
  background-color: var(--surface-1) !important;
}

/* Fix for select dropdown overlays */
select.form-input::-ms-expand {
  display: none;
}

/* Ensure no white backgrounds leak through */
.form-input::before,
.form-input::after,
.control-input::before,
.control-input::after {
  content: none !important;
}


.chip-group{display:flex; gap:8px; flex-wrap:wrap;}
.chip{padding:8px 12px; background:var(--bg-tertiary); border-radius:6px; font-size:13px; color:var(--text-secondary); cursor:pointer; transition:all .2s; border:1px solid transparent;}
.chip:hover{border-color:var(--primary-color); color:var(--primary-color);}
.chip.active{background:rgba(26,188,156,0.1); color:var(--primary-color); border-color:var(--primary-color);}
.metric-grid{display:grid; grid-template-columns:repeat(4,1fr); gap:25px; margin-top:15px;}
.metric-item{text-align:center; padding:15px; background:var(--bg-hover); border-radius:6px;}
.metric-value{font-size:20px; font-weight:600; color:var(--text-primary);}
.metric-label{font-size:11px; color:var(--text-muted); margin-top:5px; text-transform:uppercase;}
.progress-container{margin:20px 0;}
.progress-bar{height:6px; background:var(--bg-tertiary); border-radius:3px; overflow:hidden;}
.progress-fill{height:100%; background:var(--primary-color); border-radius:3px; transition:width .3s ease; animation:pulse 2s infinite;}
@keyframes pulse{0%,100%{opacity:1;} 50%{opacity:0.7;}}
.console-output{background:var(--bg-tertiary); border-radius:6px; padding:15px; font-family:Monaco,Menlo,monospace; font-size:12px; color:var(--text-muted); height:150px; overflow-y:auto; margin-top:15px;}
.console-line{margin-bottom:5px;}
.console-success{color:var(--status-success);}
.console-error{color:var(--status-error);}
.results-section{margin-top:30px;}
.result-card{background:var(--surface-1); border:1px solid var(--border-color); border-radius:8px; padding:20px; margin-bottom:20px;}
.result-header{display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;}
.result-title{font-size:14px; font-weight:600; color:var(--text-primary);}
.result-status{padding:4px 12px; border-radius:20px; font-size:12px; font-weight:500;}
.status-completed{background:rgba(16,185,129,0.1); color:var(--status-success);}
.status-running{background:rgba(245,158,11,0.1); color:var(--status-warning);}
.status-failed{background:rgba(239,68,68,0.1); color:var(--status-error);}
.time-ago{font-size:11px; color:var(--text-muted); font-style:italic;}

/* Footer */
.footer{padding:10px 16px;}
.footer-inner{max-width:100%; color:var(--text-secondary); font-size:12px; padding:8px 0; border-top:1px solid var(--border-color);}

/*=================================================================*/
/* NEW COMPONENTS STYLING                                          */
/*=================================================================*/

/* Risk Profile Selector */
.risk-profile-selector {
  display: flex;
  align-items: center;
  gap: 8px;
}
.risk-label {
  font-size: 12px;
  color: var(--text-secondary);
  font-weight: 500;
}
.risk-profile-chips {
  display: flex;
  gap: 4px;
}
.risk-chip {
  width: 28px;
  height: 28px;
  border-radius: 6px;
  border: 1px solid var(--border-color);
  background: var(--surface-1);
  color: var(--text-secondary);
  font-size: 12px;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
}
.risk-chip:hover {
  border-color: var(--primary-color);
  background: var(--bg-hover);
}
.risk-chip.active {
  background: var(--primary-color);
  color: var(--text-inverse);
  border-color: var(--primary-color);
}

/* Cart and Assistant Toggles */
.cart-toggle, .assistant-toggle {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  border: 1px solid var(--border-color);
  background: var(--surface-1);
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
}
.cart-toggle:hover, .assistant-toggle:hover {
  border-color: var(--primary-color);
  color: var(--primary-color);
}
.cart-toggle svg, .assistant-toggle svg {
  width: 16px;
  height: 16px;
}
.cart-count {
  position: absolute;
  top: -6px;
  right: -6px;
  background: var(--status-error);
  color: white;
  font-size: 10px;
  font-weight: 600;
  padding: 2px 6px;
  border-radius: 10px;
  min-width: 18px;
  text-align: center;
}

/* Drawers */
.drawer {
  position: fixed;
  top: 0;
  right: -400px;
  width: 400px;
  height: 100vh;
  background: var(--surface-1);
  border-left: 1px solid var(--border-color);
  transition: right 0.3s ease;
  z-index: 1000;
  display: flex;
  flex-direction: column;
}
.drawer[aria-hidden="false"] {
  right: 0;
}
.drawer-header {
  padding: 20px;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.drawer-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}
.drawer-close {
  width: 32px;
  height: 32px;
  border: none;
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  border-radius: 6px;
  font-size: 18px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}
.drawer-close:hover {
  background: var(--border-color);
  color: var(--text-primary);
}
.drawer-content {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
}

/* Selection Cart Specific */
.cart-empty {
  text-align: center;
  color: var(--text-muted);
  padding: 40px 20px;
}
.cart-empty p {
  margin: 8px 0;
}
.cart-items {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.cart-item {
  padding: 16px;
  background: var(--bg-secondary);
  border-radius: 8px;
  border: 1px solid var(--border-color);
}
.cart-actions {
  padding: 20px;
  border-top: 1px solid var(--border-color);
  display: flex;
  gap: 12px;
}

/* AI Assistant Specific */
.assistant-messages {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-bottom: 20px;
  max-height: calc(100vh - 200px);
  overflow-y: auto;
}
.assistant-message {
  padding: 16px;
  border-radius: 8px;
  background: var(--bg-secondary);
}
.assistant-message.system-message {
  background: rgba(26, 188, 156, 0.1);
  border: 1px solid rgba(26, 188, 156, 0.2);
}
.assistant-input {
  display: flex;
  gap: 8px;
  align-items: center;
}
.assistant-input input {
  flex: 1;
  padding: 12px;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  background: var(--surface-1);
  color: var(--text-primary);
}
.assistant-input button {
  width: 40px;
  height: 40px;
  border: none;
  background: var(--primary-color);
  color: var(--text-inverse);
  border-radius: 6px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}
.assistant-input button:hover {
  background: var(--primary-dark);
}
.assistant-input svg {
  width: 16px;
  height: 16px;
}

/* Navigation Separator */
.nav-separator {
  height: 1px;
  background: var(--border-color);
  margin: 8px 16px;
}
.admin-only {
  opacity: 0.7;
}

/* Expandable Navigation */
.nav-item-expandable {
  position: relative;
}
/* Make nav-parent inherit exact same styling as nav-item */
.nav-parent {
  width: 100%;
  background: transparent;
  border: none;
  cursor: pointer;
  text-align: left;
}
/* Override the regular nav-item hover for nav-parent */
.nav-parent:hover {
  background: var(--bg-secondary);
  color: var(--text-primary);
}
.nav-parent.expanded {
  background: linear-gradient(90deg,transparent,var(--bg-hover));
  color: var(--primary-color);
  border-left-color: var(--primary-color);
}
.nav-chevron {
  width: 12px;
  height: 12px;
  transition: transform 0.2s ease;
  margin-left: auto;
  flex-shrink: 0;
}
.nav-parent.expanded .nav-chevron {
  transform: rotate(90deg);
}
.nav-submenu {
  display: none;
  background: var(--bg-secondary);
  border-left: 2px solid var(--primary-color);
  margin-left: 16px;
}
.nav-submenu.expanded {
  display: block;
}
.nav-subitem {
  display: block;
  padding: 10px 16px 10px 32px;
  color: var(--text-secondary);
  text-decoration: none;
  font-size: 13px;
  font-weight: 400;
  transition: all 0.25s ease-in-out;
}
.nav-subitem:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}
.nav-subitem.active {
  color: var(--primary-color);
  background: var(--bg-hover);
}
.nav-submenu-divider {
  height: 1px;
  background: var(--border-color);
  margin: 8px 16px;
}
.nav-submenu-label {
  padding: 8px 16px 4px 32px;
  font-size: 11px;
  color: var(--text-muted);
  text-transform: uppercase;
  font-weight: 600;
  letter-spacing: 0.5px;
}

/* Nested submenu styles */
.nav-nested {
  position: relative;
}
.nav-nested .nav-parent {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 16px 10px 32px;
  background: transparent;
  border: none;
  color: var(--text-secondary);
  text-decoration: none;
  cursor: pointer;
  transition: all 0.25s ease-in-out;
  font-size: 13px;
  font-weight: 400;
  width: 100%;
  text-align: left;
}
.nav-nested .nav-parent:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}
.nav-nested .nav-parent.expanded {
  background: var(--bg-hover);
  color: var(--primary-color);
}
.nav-nested .nav-chevron {
  width: 10px;
  height: 10px;
  transition: transform 0.2s ease;
  margin-left: auto;
  flex-shrink: 0;
}
.nav-nested-submenu {
  display: none;
  border-left: 2px solid var(--primary-color);
  margin-left: 24px;
}
.nav-nested-submenu.expanded {
  display: block;
}
.nav-nested-item {
  padding: 8px 16px 8px 24px !important;
  font-size: 12px !important;
}

/* Packs Grid */
.packs-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  gap: 24px;
  margin-top: 24px;
}
.pack-card {
  background: var(--surface-1);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 24px;
  transition: all 0.2s ease;
}
.pack-card:hover {
  border-color: var(--primary-color);
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}
.pack-header {
  display: flex;
  align-items: flex-start;
  gap: 16px;
  margin-bottom: 20px;
}
.pack-icon {
  width: 48px;
  height: 48px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.pack-icon.zerosigma { background: rgba(239, 68, 68, 0.1); color: #EF4444; }
.pack-icon.swingsigma { background: rgba(245, 158, 11, 0.1); color: #F59E0B; }
.pack-icon.longsigma { background: rgba(16, 185, 129, 0.1); color: #10B981; }
.pack-icon.overnightsigma { background: rgba(139, 92, 246, 0.1); color: #8B5CF6; }
.pack-icon.momentumsigma { background: rgba(59, 130, 246, 0.1); color: #3B82F6; }
.pack-icon svg {
  width: 24px;
  height: 24px;
}
.pack-info {
  flex: 1;
}
.pack-name {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 4px 0;
}
.pack-description {
  font-size: 14px;
  color: var(--text-secondary);
  margin: 0;
}
.pack-status {
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 500;
}
.pack-status.active {
  background: rgba(16, 185, 129, 0.1);
  color: var(--status-success);
}
.pack-status.beta {
  background: rgba(245, 158, 11, 0.1);
  color: var(--status-warning);
}
.pack-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  margin-bottom: 20px;
}
.stat-item {
  text-align: center;
}
.stat-label {
  font-size: 11px;
  color: var(--text-muted);
  text-transform: uppercase;
  margin-bottom: 4px;
}
.stat-value {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
}
.pack-actions {
  display: flex;
  gap: 8px;
}

/* Composer Tabs */
.composer-tabs {
  border-bottom: 1px solid var(--border-color);
  margin-bottom: 24px;
}
.tab-nav {
  display: flex;
  gap: 0;
}
.tab-button {
  padding: 12px 20px;
  border: none;
  background: none;
  color: var(--text-secondary);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 8px;
}
.tab-button:hover {
  color: var(--text-primary);
  background: var(--bg-hover);
}
.tab-button.active {
  color: var(--primary-color);
  border-bottom-color: var(--primary-color);
}
.tab-icon svg {
  width: 16px;
  height: 16px;
}

/* Build Tab Specific */
.build-tab {
  display: grid;
  grid-template-columns: 1fr 300px;
  gap: 24px;
}
.build-content {
  display: flex;
  flex-direction: column;
  gap: 24px;
}
.build-sidebar {
  display: flex;
  flex-direction: column;
  gap: 20px;
}
.matrix-status {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.status-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}
.status-label {
  font-size: 14px;
  color: var(--text-secondary);
}
.status-value {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-primary);
}
.build-actions {
  display: flex;
  gap: 12px;
}

/* Trust HUD */
.trust-hud {
  background: var(--surface-1);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 16px;
}
.trust-hud h4 {
  margin: 0 0 12px 0;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
}
.trust-metrics {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.trust-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.trust-label {
  font-size: 12px;
  color: var(--text-secondary);
}
.trust-badge {
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
}
.trust-badge.excellent {
  background: rgba(16, 185, 129, 0.1);
  color: var(--status-success);
}
.trust-badge.good {
  background: rgba(16, 185, 129, 0.1);
  color: var(--status-success);
}
.trust-badge.low {
  background: rgba(245, 158, 11, 0.1);
  color: var(--status-warning);
}

/* Lineage Chips */
.lineage-chips {
  background: var(--surface-1);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 16px;
}
.lineage-chips h4 {
  margin: 0 0 12px 0;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
}
.lineage-chip {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: var(--bg-secondary);
  border-radius: 6px;
  margin-bottom: 8px;
}
.chip-label {
  font-size: 11px;
  color: var(--text-muted);
  text-transform: uppercase;
}
.chip-value {
  font-family: Monaco, Menlo, monospace;
  font-size: 12px;
  color: var(--text-primary);
  font-weight: 500;
}
.chip-copy {
  border: none;
  background: none;
  cursor: pointer;
  font-size: 12px;
  opacity: 0.6;
  transition: opacity 0.2s ease;
}
.chip-copy:hover {
  opacity: 1;
}

/* Gate Badges */
.gate-badge {
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
}
.gate-badge.pass {
  background: rgba(16, 185, 129, 0.1);
  color: var(--status-success);
}
.gate-badge.fail {
  background: rgba(239, 68, 68, 0.1);
  color: var(--status-error);
}

/* Health Page */
.health-overview {
  margin-bottom: 32px;
}
.health-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
}
.health-card {
  background: var(--surface-1);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 20px;
}
.health-header {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 16px;
}
.health-icon {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  background: var(--bg-tertiary);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.health-icon svg {
  width: 20px;
  height: 20px;
  color: var(--text-secondary);
}
.health-title {
  flex: 1;
}
.health-title h3 {
  margin: 0 0 4px 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
}
.health-status {
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
}
.health-status.good {
  background: rgba(16, 185, 129, 0.1);
  color: var(--status-success);
}
.health-status.warning {
  background: rgba(245, 158, 11, 0.1);
  color: var(--status-warning);
}
.health-metrics {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.metric-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.metric-label {
  font-size: 12px;
  color: var(--text-secondary);
}
.metric-value {
  font-size: 12px;
  font-weight: 500;
  color: var(--text-primary);
}

/* Admin Grid */
.admin-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 20px;
  margin-bottom: 32px;
}
.admin-card {
  background: var(--surface-1);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.2s ease;
}
.admin-card:hover {
  border-color: var(--primary-color);
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
}
.admin-card-header {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 16px;
}
.admin-card-icon {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  background: var(--bg-tertiary);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.admin-card-icon svg {
  width: 20px;
  height: 20px;
  color: var(--text-secondary);
}
.admin-card-title {
  flex: 1;
}
.admin-card-title h3 {
  margin: 0 0 4px 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
}
.admin-card-title p {
  margin: 0;
  font-size: 13px;
  color: var(--text-secondary);
}
.admin-card-status {
  text-align: right;
}
.status-indicator {
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
  background: var(--bg-tertiary);
  color: var(--text-secondary);
}
.status-indicator.warning {
  background: rgba(245, 158, 11, 0.1);
  color: var(--status-warning);
}
.admin-card-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 16px;
}
.admin-card-actions {
  text-align: center;
}
.admin-actions {
  background: var(--surface-1);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 20px;
}
.quick-actions-row {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

/* Form Grid */
.form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
}
.form-field {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.form-field label {
  font-size: 12px;
  font-weight: 500;
  color: var(--text-secondary);
}
.form-field input,
.form-field select,
.form-field textarea {
  padding: 8px 12px;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  background: var(--surface-1);
  color: var(--text-primary);
  font-size: 14px;
}
.form-field textarea {
  min-height: 80px;
  resize: vertical;
}

/* Tables */
table {
  width: 100%;
  border-collapse: collapse;
  background: var(--surface-1);
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid var(--border-color);
}
th, td {
  padding: 12px;
  text-align: left;
  border-bottom: 1px solid var(--border-color);
}
th {
  background: var(--bg-secondary);
  font-weight: 600;
  color: var(--text-primary);
  font-size: 12px;
  text-transform: uppercase;
}
td {
  color: var(--text-primary);
  font-size: 14px;
}
tr:last-child td {
  border-bottom: none;
}

/* Signals Page Specific */
.signals-tabs {
  border-bottom: 1px solid var(--border-color);
  margin-bottom: 24px;
}
.control-row {
  margin-bottom: 20px;
}
.control-row .filters {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}
.analytics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 20px;
  margin-bottom: 24px;
}
.analytics-card {
  background: var(--surface-1);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 20px;
}
.analytics-card h4 {
  margin: 0 0 16px 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
}
.metrics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 16px;
}
.chart-placeholder {
  background: var(--bg-secondary);
  border-radius: 6px;
  padding: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.heatmap-grid {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.heatmap-row {
  display: flex;
  gap: 4px;
  align-items: center;
}
.hour-label {
  font-size: 11px;
  color: var(--text-muted);
  width: 40px;
}
.heatmap-cell {
  width: 40px;
  height: 20px;
  border-radius: 2px;
}
.parity-metrics {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.parity-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.parity-label {
  font-size: 14px;
  color: var(--text-secondary);
}
.parity-value {
  font-size: 14px;
  font-weight: 500;
  padding: 2px 8px;
  border-radius: 12px;
}
.parity-value.good {
  background: rgba(16, 185, 129, 0.1);
  color: var(--status-success);
}
.parity-value.warning {
  background: rgba(245, 158, 11, 0.1);
  color: var(--status-warning);
}
.data-freshness {
  display: flex;
  gap: 20px;
  align-items: center;
  padding: 12px;
  background: var(--bg-secondary);
  border-radius: 6px;
  font-size: 13px;
}
.freshness-label, .coverage-label {
  color: var(--text-muted);
}
.freshness-value, .coverage-value {
  color: var(--text-primary);
  font-weight: 500;
}
.positive {
  color: var(--status-success);
}
.negative {
  color: var(--status-error);
}
.neutral {
  color: var(--text-secondary);
}
.long-side {
  color: var(--status-success);
  font-weight: 500;
}
.short-side {
  color: var(--status-error);
  font-weight: 500;
}
.capacity-badge {
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
}
.capacity-badge.high {
  background: rgba(16, 185, 129, 0.1);
  color: var(--status-success);
}
.pack-badge {
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
  text-transform: uppercase;
}
.pack-badge.zerosigma {
  background: rgba(239, 68, 68, 0.1);
  color: #EF4444;
}
.pack-badge.swingsigma {
  background: rgba(245, 158, 11, 0.1);
  color: #F59E0B;
}
.pack-badge.longsigma {
  background: rgba(16, 185, 129, 0.1);
  color: #10B981;
}
.pack-badge.overnightsigma {
  background: rgba(139, 92, 246, 0.1);
  color: #8B5CF6;
}
.pack-badge.momentumsigma {
  background: rgba(59, 130, 246, 0.1);
  color: #3B82F6;
}

/* Responsive Design */
@media (max-width: 768px) {
  .drawer {
    width: 100vw;
    right: -100vw;
  }
  .build-tab {
    grid-template-columns: 1fr;
  }
  .packs-grid {
    grid-template-columns: 1fr;
  }
  .health-cards {
    grid-template-columns: 1fr;
  }
  .admin-grid {
    grid-template-columns: 1fr;
  }
  .form-grid {
    grid-template-columns: 1fr;
  }
  .quick-actions-row {
    flex-direction: column;
  }
} 
